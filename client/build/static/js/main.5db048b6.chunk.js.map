{"version":3,"sources":["hooks/useAuth.js","context/AuthContext.js","components/Logo/Logo.js","components/Navbar/Navbar.js","components/Header/Header.js","redux/selectors/adsSelector.js","assets/png/logo.png","components/RecommendedAds/RecommendedAds.js","components/HotsAds/HotsAds.js","components/RunAd/RunAd.js","components/AdvertList/AdvertList.js","redux/actions/adsAction.js","components/SharesList/SharesList.js","components/SalesAds/SalesAds.js","pages/HomePage/HomePage.js","redux/actions/userAction.js","redux/selectors/userSelector.js","pages/AccountPage/AccountPage.js","components/TextField/TextField.js","components/AuthForm/AuthForm.js","pages/AuthPage/AuthPage.js","components/RegForm/RegForm.js","pages/RegPage/RegPage.js","components/Liqpay/Liqpay.js","pages/NewAdPage/NewAdPage.js","components/AdvertItem/AdvertItem.js","pages/DetailsAdPage/DetailsAdPage.js","Routes.js","redux/reducers/adsReducer.js","redux/reducers/userReducer.js","redux/rootReducer.js","App.js","redux/createStore.js","reportWebVitals.js","index.js"],"names":["storageName","useAuth","useState","token","setToken","ready","setReady","userId","setUserId","login","useCallback","jwtToken","id","localStorage","setItem","JSON","stringify","logout","removeItem","useEffect","data","parse","getItem","AuthContext","createContext","noop","isAuthenticated","Logo","className","Navbar","Header","getAds","createSelector","state","ads","getPages","pages","getSharesAds","sharesAds","getSalesAds","salesAds","getRecommendedAds","recommendedAds","getHotsAds","hotsAds","getRunsAds","runAds","filter","ad","status","reverse","RecommendedAds","Grid","map","i","Column","to","_id","title","type","productPrice","HotsAds","RunAd","_","sample","selectedAd","setSelectedAd","randomAd","AdvertList","advertArr","isOpenInfo","setIsOpenInfo","imgId","setImgId","onClick","city","src","img","config","serverUrl","logo","width","height","date","data-tooltip","style","display","description","section","subsection","name","phone","Button","as","fetchAds","createAsyncThunk","a","page","price","selectedFilterPrice","selectedFilterDate","axios","get","then","res","fetchSharesAds","fetchSalesAds","fetchRecommendedAds","fetchHotsAds","fetchRunAds","SharesList","sharesArr","SalesAds","salesArr","HomePage","isAuth","useSelector","dispatch","useDispatch","cityData","item","population","key","text","value","cityDataArr","selectedCity","setSelectedCity","selectedFilteredPrice","setSelectedFilteredPrice","selectedFilteredDate","setSelectedFilteredDate","setPage","color","Dropdown","placeholder","clearable","search","selection","options","onChange","e","target","innerText","Pagination","boundaryRange","defaultActivePage","ellipsisItem","firstItem","lastItem","siblingRange","totalPages","onPageChange","event","getAttribute","fetchUser","getUser","user","AccountPage","setAds","post","Container","columns","surname","email","path","exact","TextField","labelColor","input","label","meta","asyncValidating","touched","error","warning","rest","message","Form","Field","Input","loading","Label","basic","pointing","reduxForm","form","handleSubmit","onSubmit","component","AuthPage","setSignInSuccess","setError","auth","useContext","history","useHistory","values","push","catch","err","response","Message","negative","asyncValidate","is_exist","validate","errors","test","password","repeatPassword","asyncBlurFields","valid","submitting","disabled","RegPage","signUpSuccess","setSignUpSuccess","success","header","content","Liqpay","publicKey","process","REACT_APP_PUBLIC_KEY","privateKey","REACT_APP_PRIVATE_KEY","amount","currency","orderId","Math","floor","random","result_url","server_url","product_description","margin","NewAdPage","setSection","category","stateSection","popularCity","dataUnique","Map","set","subject","uniqueArr","forEach","selectedRegion","setSubsection","cityArr","setCityArr","selectedSubsection","setSelectedSubsection","setType","setCity","setProductPrice","setPrice","setTitle","setDescription","setName","setPhone","mail","setMail","setStatus","result","setResult","serviceArr","setServiceArr","images","setImages","optionsSection","Object","keys","optionsCity","priceAd","services","uploadImage","imgArr","formData","FormData","console","log","append","Promise","resolve","onChangeService","service","includes","newServiceArr","userAds","adId","adsArr","put","method","enctype","files","multiple","file","URL","createObjectURL","TextArea","backgroundColor","inverted","AdvertItem","DetailsAdPage","useParams","setAd","Routes","adsReducer","createReducer","pending","fulfilled","action","payload","rejected","userReducer","combineReducers","formReducer","store","configureStore","reducer","rootReducer","devTools","App","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"szsWAEMA,EAAc,WAEPC,EAAU,WAAO,IAAD,EACDC,mBAAS,MADR,mBACpBC,EADoB,KACbC,EADa,OAEDF,oBAAS,GAFR,mBAEpBG,EAFoB,KAEbC,EAFa,OAGCJ,mBAAS,MAHV,mBAGpBK,EAHoB,KAGZC,EAHY,KAMrBC,EAAQC,uBAAY,SAACC,EAAUC,GACnCR,EAASO,GACTH,EAAUI,GAEVC,aAAaC,QAAQd,EAAae,KAAKC,UAAU,CAC/CT,OAAQK,EAAIT,MAAOQ,OAEpB,IAGGM,EAASP,uBAAY,WACzBN,EAAS,MACTI,EAAU,MACVK,aAAaK,WAAWlB,KACvB,IAYH,OAVAmB,qBAAU,WACR,IAAMC,EAAOL,KAAKM,MAAMR,aAAaS,QAAQtB,IAEzCoB,GAAQA,EAAKjB,OACfM,EAAMW,EAAKjB,MAAOiB,EAAKb,QAEzBD,GAAS,KACR,CAACG,IAGG,CAAEA,QAAOQ,SAAQd,QAAOI,OAAQA,EAAQF,UChC1C,IAAMkB,EAAcC,wBAAc,CACvCrB,MAAO,KACPI,OAAQ,KACRE,WAAOgB,EACPR,YAAQQ,EACRC,iBAAiB,I,uDCNJ,SAASC,IACtB,OACE,qBAAKC,UAAU,S,OCFJ,SAASC,IACtB,OACE,sBAAKD,UAAU,oBAAf,UACE,qBAAIA,UAAU,eAAd,UACE,qBAAIA,UAAU,kDAAd,UACE,+HACA,qBAAIA,UAAU,kBAAd,UACE,qGACA,0GACA,0DACA,sEACA,sEACA,yFACA,iHACA,kFAGJ,qBAAIA,UAAU,8BAAd,6FAEE,qBAAIA,UAAU,mBAAd,UACE,wCACA,wCACA,wCACA,8CAGJ,qBAAIA,UAAU,eAAd,qHAEE,qBAAIA,UAAU,mBAAd,UACE,wCACA,wCACA,wCACA,8CAGJ,qBAAIA,UAAU,eAAd,sIAEE,qBAAIA,UAAU,mBAAd,UACE,wCACA,yCACA,yCACA,kDAIN,qBAAKA,UAAU,mB,OC3CN,SAASE,IACtB,OACE,wBAAQF,UAAU,gBAAlB,SACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,yBAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,W,iDCTGG,EAASC,aACpB,SAAAC,GAAK,OAAIA,EAAMC,IAAId,QACnB,SAAAc,GAAG,OAAIA,KAGIC,EAAWH,aACtB,SAAAC,GAAK,OAAIA,EAAMC,IAAIE,SACnB,SAAAA,GAAK,OAAIA,KAGEC,EAAeL,aAC1B,SAAAC,GAAK,OAAIA,EAAMC,IAAII,aACnB,SAAAJ,GAAG,OAAIA,KAGIK,EAAcP,aACzB,SAAAC,GAAK,OAAIA,EAAMC,IAAIM,YACnB,SAAAN,GAAG,OAAIA,KAGIO,EAAoBT,aAC/B,SAAAC,GAAK,OAAIA,EAAMC,IAAIQ,kBACnB,SAAAR,GAAG,OAAIA,KAGIS,EAAaX,aACxB,SAAAC,GAAK,OAAIA,EAAMC,IAAIU,WACnB,SAAAV,GAAG,OAAIA,KAGIW,EAAab,aACxB,SAAAC,GAAK,OAAIA,EAAMC,IAAIY,UACnB,SAAAZ,GAAG,OAAIA,K,GAGiBF,YACxBD,GACA,SAAAG,GAAG,OAAIA,EAAIa,QAAO,SAAAC,GAAE,MAAkB,SAAdA,EAAGC,UAAmBC,aAGpBlB,YAC1BD,GACA,SAAAG,GAAG,OAAIA,EAAIa,QAAO,SAAAC,GAAE,MAAkB,WAAdA,EAAGC,UAAqBC,aAGtBlB,YAC1BD,GACA,SAAAG,GAAG,OAAIA,EAAIa,QAAO,SAAAC,GAAE,MAAkB,WAAdA,EAAGC,UAAqBC,a,eCjDnC,MAA0B,iC,gDCK1B,SAASC,EAAT,GAA6C,IAAnBT,EAAkB,EAAlBA,eACvC,OACE,cAACU,EAAA,EAAD,CAAMxB,UAAU,YAAhB,SAEIc,EAAeW,KAAI,SAACL,EAAIM,GAAL,OACjB,cAACF,EAAA,EAAKG,OAAN,CAAqB3B,UAAU,kBAA/B,SACE,eAAC,IAAD,CAAM4B,GAAE,qBAAgBR,EAAGS,KAA3B,UAAmCT,EAAGU,MAAtC,IAA8CV,EAAGW,KAAjD,IAAwDX,EAAGY,aAA3D,QADgBN,QCPb,SAASO,EAAT,GAA+B,IAAZjB,EAAW,EAAXA,QAEhC,OACE,oBAAIhB,UAAU,cAAd,SACGgB,EAAQS,KAAI,SAAAL,GAAE,OACb,oBAAIpB,UAAU,oBAAd,SAAkC,eAAC,IAAD,CAAM4B,GAAE,qBAAgBR,EAAGS,KAA3B,UAAmCT,EAAGU,MAAtC,IAA8CV,EAAGW,KAAjD,IAAwDX,EAAGY,aAA3D,e,sBCL3B,SAASE,EAAT,GAA0B,IAAVhB,EAAS,EAATA,OAAS,EACA5C,oBAAS,kBAAM6D,IAAEC,OAAOlB,MADxB,mBAC9BmB,EAD8B,KAClBC,EADkB,KAQtC,OALA/C,qBAAU,WACR,IAAMgD,EAAWJ,IAAEC,OAAOlB,GAC1BoB,EAAcC,KACb,CAACrB,IAGF,8BAEImB,GACA,kCAAS,eAAC,IAAD,CAAMT,GAAE,qBAAgBS,EAAWR,KAAnC,UAA2CQ,EAAWP,MAAtD,IAA8DO,EAAWL,aAAzE,YCFF,SAASQ,EAAT,GAAoE,IAA9CC,EAA6C,EAA7CA,UAAW3B,EAAkC,EAAlCA,eAAgBE,EAAkB,EAAlBA,QAAQE,EAAU,EAAVA,OAAU,EAC7C5C,mBAAS,IADoC,mBAC1EoE,EAD0E,KAC9DC,EAD8D,OAEvDrE,mBAAS,IAF8C,mBAE1EsE,EAF0E,KAEnEC,EAFmE,KAIjF,OACC,oBAAI7C,UAAU,UAAd,SACEyC,EAAUhB,KAAI,SAACL,EAAIM,GAAL,OACd,gCACQ,IAANA,GAAW,cAACQ,EAAD,CAAOhB,OAAQA,IAC3B,qBAAIlB,UAAS,wBAAmBoB,EAAGC,QAAUyB,QAAS1B,EAAGS,MAAQa,EAAa,kBAAMC,EAAc,KAAM,kBAAMA,EAAcvB,EAAGS,MAA/H,UACC,iCAAOT,EAAG2B,KAAV,OACA,+BAAM,qBAAKC,IAAM5B,EAAG6B,IAAI,GAAR,UAAuBC,EAAOC,UAA9B,uBAAsD/B,EAAG6B,IAAI,IAAhDG,EAAsDC,MAAM,KAAKC,OAAO,SACrG,+BAAOlC,EAAGU,QACV,+BAAOV,EAAGW,OACV,+BAAOX,EAAGmC,OACV,iCAAOnC,EAAGY,aAAV,QACA,cAAC,IAAD,CAASJ,GAAE,qBAAgBR,EAAGS,KAA9B,SAAqC,wBAAQ2B,eAAa,4GAAuBxD,UAAU,yBAE5F,sBAAKA,UAAU,gBAAgByD,MAAOf,IAAetB,EAAGS,IAAM,CAAE6B,QAAS,QAAW,CAAEA,QAAS,QAA/F,UACC,sBAAK1D,UAAU,mBAAf,UACC,sBAAKA,UAAU,yBAAf,UACC,sBAAKA,UAAU,0BAAf,UACC,6BAAKoB,EAAGU,QACR,4BAAIV,EAAGuC,iBAER,sBAAK3D,UAAU,0BAAf,UACC,2DACA,sBAAKA,UAAU,2BAAf,UACC,cAAC,WAAD,UACEoB,EAAG6B,IAAIxB,KAAI,SAAAwB,GAAG,OACd,qBAAKH,QAAS,kBAAMD,EAASI,IAA7B,SACC,qBAAKD,IAAG,UAAKE,EAAOC,UAAZ,uBAAoCF,YAK9CL,GACA,qBAAK5C,UAAU,gBAAgB8C,QAAS,kBAAMD,EAAS,KAAvD,SACC,qBAAK7C,UAAU,QAAf,SACC,qBAAKA,UAAU,kBAAf,SACC,qBAAKA,UAAU,oBAAoBgD,IAAG,UAAKE,EAAOC,UAAZ,uBAAoCP,GAASS,MAAM,uBAQhG,sBAAKrD,UAAU,yBAAf,UACC,gCACC,mIACA,4BAAIoB,EAAG2B,OACP,mDAAO3B,EAAGW,QACV,4BAAIX,EAAGwC,UACP,4BAAIxC,EAAGyC,aACP,2DAAUzC,EAAGY,mBAEd,gCACC,mFACA,qDAASZ,EAAG0C,QACZ,6EAAa1C,EAAG2C,SAChB,4BAAG,cAACC,EAAA,EAAD,oIAGJlD,GACA,sBAAKd,UAAU,kBAAf,UACC,cAAC,IAAD,6FACA,cAAC,EAAD,CAAec,eAAgBA,UAKjCE,GACA,sBAAKhB,UAAU,iCAAf,UACC,cAAC,IAAD,CAAQiE,GAAG,KAAX,wDACA,cAAChC,EAAD,CAASjB,QAASA,YApEZU,Q,6BChBDwC,EAAWC,YAAiB,eAAD,uCAAiB,yCAAAC,EAAA,6DAAQC,EAAR,EAAQA,KAAKtB,EAAb,EAAaA,KAAKuB,EAAlB,EAAkBA,MAAMf,EAAxB,EAAwBA,KAC3EgB,EAAsB,KACb,kEAAVD,EACDC,EAAsB,MACJ,oFAAVD,IACRC,EAAsB,QAEpBC,EAAqB,KACb,8EAATjB,EACDiB,EAAqB,MACJ,oFAATjB,IACRiB,EAAqB,QAGjBhF,EAAOiF,IAAMC,IAAN,UAAaxB,EAAOC,UAApB,yBAA8CkB,EAA9C,iBAA2DtB,EAA3D,kBAAyEwB,EAAzE,iBAAqGC,IAAsBG,MACtI,SAAAC,GAAG,OAAIA,EAAIpF,QAf0C,kBAgBhDA,GAhBgD,2CAAjB,uDAmB3BqF,EAAiBV,YAAiB,qBAAD,sBAAuB,4BAAAC,EAAA,6DAC7D5E,EAAOiF,IAAMC,IAAN,UAAaxB,EAAOC,UAApB,2BAAuDwB,MAClE,SAAAC,GAAG,OAAIA,EAAIpF,QAFsD,kBAG5DA,GAH4D,4CAMxDsF,EAAgBX,YAAiB,oBAAD,sBAAsB,4BAAAC,EAAA,6DAC3D5E,EAAOiF,IAAMC,IAAN,UAAaxB,EAAOC,UAApB,0BAAsDwB,MACjE,SAAAC,GAAG,OAAIA,EAAIpF,QAFoD,kBAG1DA,GAH0D,4CAMtDuF,EAAsBZ,YAAiB,0BAAD,sBAA4B,4BAAAC,EAAA,6DACvE5E,EAAOiF,IAAMC,IAAN,UAAaxB,EAAOC,UAApB,gCAA4DwB,MACvE,SAAAC,GAAG,OAAIA,EAAIpF,QAFgE,kBAGtEA,GAHsE,4CAMlEwF,EAAeb,YAAiB,mBAAD,sBAAqB,4BAAAC,EAAA,6DACzD5E,EAAOiF,IAAMC,IAAN,UAAaxB,EAAOC,UAApB,yBAAqDwB,MAChE,SAAAC,GAAG,OAAIA,EAAIpF,QAFkD,kBAGxDA,GAHwD,4CAMpDyF,EAAcd,YAAiB,kBAAD,sBAAoB,4BAAAC,EAAA,6DACvD5E,EAAOiF,IAAMC,IAAN,UAAaxB,EAAOC,UAApB,wBAAoDwB,MAC/D,SAAAC,GAAG,OAAIA,EAAIpF,QAFgD,kBAGtDA,GAHsD,4C,OC3ChD,SAAS0F,EAAT,GAAoC,IAAdC,EAAa,EAAbA,UACnC,OACE,oBAAInF,UAAU,cAAd,SACGmF,EAAU1D,KAAI,SAAAL,GAAE,OACb,oBAAIpB,UAAU,oBAAd,SAAkC,eAAC,IAAD,CAAM4B,GAAE,qBAAgBR,EAAGS,KAA3B,UAAmCT,EAAGU,MAAtC,IAA8CV,EAAGW,KAAjD,IAAwDX,EAAGY,aAA3D,e,OCH7B,SAASoD,EAAT,GAA+B,IAAZC,EAAW,EAAXA,SAChC,OACE,cAAC7D,EAAA,EAAD,CAAMxB,UAAU,YAAhB,SAEIqF,EAAS5D,KAAI,SAACL,EAAGM,GAAJ,OACX,cAACF,EAAA,EAAKG,OAAN,CAAqB3B,UAAU,kBAA/B,SACE,eAAC,IAAD,CAAM4B,GAAE,qBAAgBR,EAAGS,KAA3B,UAAmCT,EAAGU,MAAtC,IAA8CV,EAAGW,KAAjD,IAAwDX,EAAGY,aAA3D,QADgBN,Q,cCIb,SAAS4D,KAAY,IAAD,EACPjH,IAAlBE,EADyB,EACzBA,MACFgH,GAF2B,EAClB5G,SACEJ,GACX+B,EAAMkF,YAAYrF,GAClBK,EAAQgF,YAAYjF,GACpBG,EAAY8E,YAAY/E,GACxBG,EAAW4E,YAAY7E,GACvBG,EAAiB0E,YAAY3E,GAC7BG,EAAUwE,YAAYzE,GACtBG,EAASsE,YAAYvE,GACrBwE,EAAWC,cAVgB,EAWKpH,oBAAS,WAM7C,OALaa,KAAKM,MAAMN,KAAKC,UAAUuG,KACbxE,QAAO,SAAAyE,GAAI,OAAIA,EAAKC,WAAa,OAC1BpE,KAAI,SAACmE,EAAMlE,GAC1C,MAAO,CAAEoE,IAAKpE,EAAGqE,KAAMH,EAAK9B,KAAMkC,MAAOJ,EAAK9B,YAfjB,mBAW1BmC,EAX0B,aAmBS3H,mBAAS,KAnBlB,mBAmBzB4H,EAnByB,KAmBXC,EAnBW,OAoB2B7H,mBAAS,MApBpC,mBAoBzB8H,EApByB,KAoBFC,EApBE,OAqByB/H,mBAAS,MArBlC,mBAqBzBgI,EArByB,KAqBHC,GArBG,QAsBPjI,mBAAS,GAtBF,qBAsBzB+F,GAtByB,MAsBnBmC,GAtBmB,MA+CjC,OAbAjH,oBAAS,sBAAC,sBAAA6E,EAAA,sDACRqB,EAASvB,EAAS,CAACG,KAAMA,GAAMtB,KAAMmD,EAAc5B,MAAO8B,EAAuB7C,KAAM+C,KAD/E,2CAEP,CAACjC,GAAK6B,EAAaE,EAAsBE,IAE5C/G,qBAAU,WACRkG,EAASZ,KACTY,EAASX,KACTW,EAASV,KACTU,EAAST,KACTS,EAASR,OACR,IAID,sBAAKjF,UAAU,WAAf,UACE,cAAC,EAAD,IACA,sBAAKA,UAAU,YAAf,UACE,sBAAKA,UAAU,cAAf,UACE,wBAAOA,UAAU,oBAAjB,UACE,qBAAKA,UAAU,qBAAf,SACE,cAAC,IAAD,CAAS4B,GAAI2D,EAAS,SAAW,WAAjC,SACE,cAACvB,EAAA,EAAD,CAAQyC,MAAM,OAAOzG,UAAU,oBAA/B,uGAGJ,qBAAKA,UAAU,uBAAf,SACE,cAAC,IAAD,CAAS4B,GAAI,WAAb,SACE,cAACoC,EAAA,EAAD,qGAIN,sBAAKhE,UAAU,yBAAf,UACE,cAAC,IAAD,CAAQiE,GAAG,KAAX,kDACA,cAAC,EAAD,CAAUoB,SAAUzE,UAGxB,sBAAKZ,UAAU,MAAf,UACE,sBAAKA,UAAU,cAAf,UACE,iEACA,cAAC,EAAD,CAAYmF,UAAWzE,OAEzB,sBAAKV,UAAU,YAAf,UACE,sBAAKA,UAAU,SAAf,UACE,cAAC,IAAD,CAAQiE,GAAG,KAAX,kDACA,cAACyC,EAAA,EAAD,CAAUC,YAAY,iCAAQC,WAAS,EAACC,QAAM,EAACC,WAAS,EAACC,QAASd,EAAae,SAAU,SAACC,GAAD,OAAOd,EAAgBc,EAAEC,OAAOC,cACzH,cAACT,EAAA,EAAD,CAAUC,YAAY,2BAAOE,QAAM,EAACC,WAAS,EAACC,QAvDhC,CACxB,CAAEjB,IAAK,EAAGC,KAAM,kFAAkBC,MAAO,QACzC,CAAEF,IAAK,EAAGC,KAAM,gEAAeC,MAAO,OACtC,CAAEF,IAAK,EAAGC,KAAM,mDAAYC,MAAO,KAoDiDgB,SAAU,SAACC,GAAD,OAAOZ,EAAyBY,EAAEC,OAAOC,cAC7H,cAACT,EAAA,EAAD,CAAUC,YAAY,wCAAUE,QAAM,EAACC,WAAS,EAACC,QAnDpC,CACvB,CAAEjB,IAAK,EAAGC,KAAM,4EAAiBC,MAAO,QACxC,CAAEF,IAAK,EAAGC,KAAM,kFAAkBC,MAAO,OACzC,CAAEF,IAAK,EAAGC,KAAM,mDAAYC,MAAO,KAgDmDgB,SAAU,SAACC,GAAD,OAAOV,GAAwBU,EAAEC,OAAOC,iBAE/H7G,GAAO,cAAC,EAAD,CAAYmC,UAAWnC,EAAKQ,eAAgBA,EAAgBE,QAASA,EAASE,OAAQA,IAC9F,cAACkG,EAAA,EAAD,CACEC,cAAe,EACfC,kBAAmB,EACnBC,aAAc,KACdC,UAAW,KACXC,SAAU,KACVC,aAAc,EACdC,WAAYnH,EACZoH,aAAc,SAACC,GAAD,OAAWrB,GAAQqB,EAAMX,OAAOY,aAAa,yB,cCpG5DC,GAAY5D,YAAiB,iBAAD,sBAAmB,8BAAAC,EAAA,6DACpDzF,EAASQ,KAAKM,MAAMR,aAAaS,QAAQ,aAAaf,OACtDa,EAAOiF,IAAMC,IAAN,UAAaxB,EAAOC,UAApB,sBAA2CxE,IAAUgG,MAChE,SAAAC,GAAG,OAAIA,EAAIpF,QAH6C,kBAInDA,GAJmD,4CCF/CwI,GAAU5H,aACrB,SAAAC,GAAK,OAAIA,EAAM4H,KAAKzI,QACpB,SAAAyI,GAAI,OAAIA,KCOK,SAASC,KAAe,IAAD,EACZ7J,IAAjBE,EAD6B,EAC7BA,MAAOc,EADsB,EACtBA,OACRkG,IAAWhH,EACXkH,EAAWC,cACXuC,EAAOzC,YAAYwC,IAJW,EAKb1J,mBAAS,IALI,mBAK7BgC,EAL6B,KAKxB6H,EALwB,KAqBpC,OAdA5I,qBAAW,WACNgG,GACDE,EAASsC,QAEV,CAACxC,IAIJhG,qBAAU,WACR,GAAGgG,EACc0C,EAAK3H,KAAOmE,IAAM2D,KAAN,UAAclF,EAAOC,UAArB,uBAAoD8E,EAAK3H,KAAKqE,MAAK,SAAAC,GAAG,OAAIuD,EAAOvD,EAAIpF,WAEjH,CAACyI,IAEA1C,EAEA,cAAC8C,GAAA,EAAD,UACE,eAAC7G,EAAA,EAAD,CAAM8G,QAAS,EAAf,UACE,eAAC9G,EAAA,EAAKG,OAAN,WACE,cAAC,IAAD,CAAQsC,GAAG,KAAX,mGACA,cAACD,EAAA,EAAD,CAAQlB,QAAS,kBAAMzD,KAAvB,4CACA,eAAC,IAAD,CAAQ4E,GAAG,KAAX,iCAAsBgE,EAAKnE,QAC3B,eAAC,IAAD,CAAQG,GAAG,KAAX,yDAA0BgE,EAAKM,WAC/B,eAAC,IAAD,CAAQtE,GAAG,KAAX,6CAAwBgE,EAAKO,YAE/B,eAAChH,EAAA,EAAKG,OAAN,WACE,cAAC,IAAD,4EACA,cAAC,EAAD,CAAYc,UAAWnC,YAQ/B,sBAAKN,UAAU,YAAf,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAQiE,GAAG,KAAX,mLACA,cAAC,IAAD,CAASrC,GAAG,QAAZ,wEAEF,cAAC,IAAD,UACE,eAAC,IAAD,CAAO6G,KAAK,WAAWC,OAAK,EAA5B,UACE,cAAC,IAAD,CAAM9G,GAAG,QAAT,SAAiB,cAACoC,EAAA,EAAD,+CACjB,cAAC,IAAD,CAAMpC,GAAG,gBAAT,SAAyB,cAACoC,EAAA,EAAD,qI,oFCpBpB2E,OAtCf,YAMK,IAECC,EAPHC,EAKC,EALDA,MACAC,EAIC,EAJDA,MACA/G,EAGC,EAHDA,KAGC,IAFDgH,KAAQC,EAEP,EAFOA,gBAAiBC,EAExB,EAFwBA,QAASC,EAEjC,EAFiCA,MAAOC,EAExC,EAFwCA,QACtCC,EACF,gDAICF,EACDN,EAAa,MACJO,IACTP,EAAa,UAEf,IAAMS,EAAUH,GAASC,EACzB,OACE,eAACG,GAAA,EAAKC,MAAN,WACE,cAACC,GAAA,EAAD,2BACEV,MAAOA,EACP/G,KAAMA,EACN0H,QAAST,GACLH,GACAO,IAELH,GAAWI,GACZ,cAACK,GAAA,EAAD,CACEC,OAAK,EACLlD,MAAOmC,EACPgB,SAAS,OAHX,SAKGP,QCfMQ,oBAAU,CACvBC,KAAM,YADOD,EAdf,YAAmC,IAAhBE,EAAe,EAAfA,aACjB,OACE,uBAAMC,SAAUD,EAAhB,UACE,qBAAK/J,UAAU,YAAf,SACE,cAACuJ,GAAA,EAAD,CAAOvJ,UAAU,oBAAoB8D,KAAK,QAAQgF,MAAM,QAAQmB,UAAWtB,GAAWhC,YAAY,qBAEpG,qBAAK3G,UAAU,YAAf,SACA,cAACuJ,GAAA,EAAD,CAAOvJ,UAAU,oBAAoB8D,KAAK,WAAWgF,MAAM,WAAW/G,KAAK,WAAWkI,UAAWtB,GAAWhC,YAAY,aAExH,cAAC3C,EAAA,EAAD,CAAQjC,KAAK,SAAb,kDCNS,SAASmI,KAAY,IAAD,EACW5L,oBAAS,GADpB,mBACV6L,GADU,aAEL7L,mBAAS,IAFJ,mBAEzB4K,EAFyB,KAElBkB,EAFkB,KAG3BC,EAAOC,qBAAW3K,GAClB4K,EAAUC,cAEVR,EAAWlL,sBAAW,uCAAC,WAAM2L,GAAN,SAAArG,EAAA,sEACNK,IAAM2D,KAAN,UAAclF,EAAOC,UAArB,aAA2CsH,GAC/D9F,MAAK,SAAAC,GACJyF,EAAKxL,MAAM+F,EAAIpF,KAAKjB,MAAMqG,EAAIpF,KAAKR,IACnCmL,GAAiB,GACjBC,EAAS,IACTG,EAAQG,KAAK,YAEdC,OAAM,SAAAC,GACLR,EAASQ,EAAIC,SAASrL,KAAK0J,OAC3BiB,GAAiB,MAVQ,yDAAD,sDAY1B,IAEF,OACE,sBAAKnK,UAAU,YAAf,UACE,cAAC,IAAD,CAAQiE,GAAG,KAAX,kMACA,cAAC,GAAD,CAAU+F,SAAUA,IAElBd,GACA,cAAC4B,GAAA,EAAD,CAASC,UAAQ,EAAjB,SACE,cAACD,GAAA,EAAQ5K,OAAT,UAAiBgJ,S,OCL3B,IAyBM8B,GAAa,uCAAG,WAAMP,GAAN,SAAArG,EAAA,yDACfqG,EAAOjC,MADQ,iEAEG/D,IAAMC,IAAN,gEAAmE+F,EAAOjC,QAF7E,kBAGPhJ,KAAKyL,SAHE,qBAIZ,CAAEzC,MAAO,+BAJG,2CAAH,sDAQJqB,gBAAU,CACvBC,KAAM,eACNoB,SAnCe,SAAAT,GACf,IAAMU,EAAS,GACXV,EAAO3G,OACTqH,EAAOrH,KAAO,YAEZ2G,EAAOlC,UACT4C,EAAO5C,QAAU,YAEfkC,EAAOjC,QACT2C,EAAO3C,MAAQ,YAajB,MAVW,yHACH4C,KAAKX,EAAOjC,SAClB2C,EAAO3C,MAAQ,uBAEbiC,EAAOY,WACTF,EAAOE,SAAW,YAEjBZ,EAAOY,WAAaZ,EAAOa,iBAC5BH,EAAOG,eAAiB,wBAEnBH,GAcPH,iBACAO,gBAAiB,CAAC,UAJL1B,EAxDf,YAAqD,IAAnCE,EAAkC,EAAlCA,aAAcyB,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,WACrC,OACE,uBAAMzL,UAAU,OAAOgK,SAAUD,EAAjC,UACE,qBAAK/J,UAAU,YAAf,SACE,cAACuJ,GAAA,EAAD,CAAOvJ,UAAU,cAAc8D,KAAK,OAAOgF,MAAM,qBAAMmB,UAAWtB,GAAWhC,YAAY,+BAE3F,qBAAK3G,UAAU,YAAf,SACE,cAACuJ,GAAA,EAAD,CAAOvJ,UAAU,cAAc8D,KAAK,UAAUgF,MAAM,6CAAUmB,UAAWtB,GAAWhC,YAAY,2CAElG,qBAAK3G,UAAU,YAAf,SACE,cAACuJ,GAAA,EAAD,CAAOvJ,UAAU,cAAc8D,KAAK,QAAQgF,MAAM,iCAAQmB,UAAWtB,GAAWhC,YAAY,qBAE9F,qBAAK3G,UAAU,YAAf,SACE,cAACuJ,GAAA,EAAD,CAAOvJ,UAAU,cAAc8D,KAAK,WAAWgF,MAAM,uCAAS/G,KAAK,WAAWkI,UAAWtB,GAAWhC,YAAY,aAElH,qBAAK3G,UAAU,YAAf,SACE,cAACuJ,GAAA,EAAD,CAAOvJ,UAAU,cAAc8D,KAAK,iBAAiBgF,MAAM,8FAAmB/G,KAAK,WAAWkI,UAAWtB,GAAWhC,YAAY,aAElI,cAAC3C,EAAA,EAAD,CAAQjC,KAAK,SAAS2J,UAAWF,IAAUC,EAA3C,gIClBS,SAASE,KAAW,IAAD,EACYrN,oBAAS,GADrB,mBACxBsN,EADwB,KACTC,EADS,KAG1B7B,EAAWlL,sBAAW,uCAAC,WAAM2L,GAAN,SAAArG,EAAA,sEACrBK,IAAM2D,KAAN,UAAclF,EAAOC,UAArB,qBAAmDsH,GAD9B,OAE3BoB,GAAiB,GAFU,2CAAD,sDAG1B,IAEF,OACE,qBAAK7L,UAAU,YAAf,SACI4L,EACA,cAACd,GAAA,EAAD,CACEgB,SAAO,EACPC,OAAO,wKACPC,QAAS,cAAC,IAAD,CAAMpK,GAAG,QAAT,8CAGX,gCACE,cAAC,IAAD,CAAQqC,GAAG,KAAX,0OACA,cAAC,GAAD,CAAS+F,SAAUA,S,8DCrBd,SAASiC,GAAT,GAA+B,IAAD,IAAb3H,aAAa,MAAL,EAAK,EAqB3C,OACE,qBAAKb,MAAO,CAAEC,QAAS,QAAvB,SACE,cAAC,KAAD,CACEwI,UAAWC,mIAAYC,qBACvBC,WAAYF,mIAAYG,sBACxBC,OAAQjI,EACRX,YAAY,sBACZ6I,SAAS,MACTC,QAASC,KAAKC,MAAM,EAAoB,IAAhBD,KAAKE,UAC7BC,WAAW,iCACXC,WAAW,kCACXC,oBAAoB,iBACpBtJ,MAAO,CAAEuJ,OAAQ,OACjBtB,UAAU,MCzBH,SAASuB,KAAY,MAEJ3O,mBAAS,uGAFL,mBAE3BsF,EAF2B,KAElBsJ,EAFkB,OAGQ5O,oBAAS,kBAAMa,KAAKM,MAAMN,KAAKC,UAAU+N,QAHjD,mBAG1BC,EAH0B,aAIM9O,oBAAS,kBAAMa,KAAKM,MAAMN,KAAKC,UAAUuG,SAJ/C,mBAI1BM,EAJ0B,aAKU3H,oBAAS,WACnD,IAAM+O,EAAc,GACpBpH,EAAYxE,KAAI,SAAAmE,GACXA,EAAKC,YAAc,KACpBwH,EAAY3C,KAAK9E,MAGrB,IAAM0H,EAAa,IAAIC,IACvBF,EAAY5L,KAAI,SAACmE,GAAD,OAAU0H,EAAWE,IAAI5H,EAAK6H,QAAQ7H,EAAK6H,YAC3D,IAAMC,EAAY,GAIlB,OAHCJ,EAAWK,SAAQ,SAAC/H,EAAKlE,GACxBgM,EAAUhD,KAAK,CAAE5E,IAAKpE,EAAGqE,KAAMH,EAAMI,MAAOJ,OAEvC8H,MAlByB,gCAoBYpP,mBAAS,KApBrB,mBAoB1BsP,EApB0B,aAqBItP,mBAAS,KArBb,mBAqB1BuF,EArB0B,KAqBdgK,EArBc,OAsBFvP,mBAAS,IAtBP,mBAsB1BwP,EAtB0B,KAsBjBC,EAtBiB,OAuBoBzP,mBAAS,IAvB7B,mBAuB1B0P,EAvB0B,KAuBNC,EAvBM,OAwBR3P,mBAAS,IAxBD,mBAwB1ByD,EAxB0B,KAwBpBmM,EAxBoB,OAyBR5P,mBAAS,IAzBD,mBAyB1ByE,EAzB0B,KAyBpBoL,EAzBoB,OA0BQ7P,mBAAS,IA1BjB,mBA0B1B0D,EA1B0B,KA0BZoM,EA1BY,OA2BN9P,mBAAS,GA3BH,mBA2B1BgG,EA3B0B,KA2BnB+J,EA3BmB,OA4BN/P,mBAAS,IA5BH,oBA4B1BwD,GA5B0B,MA4BnBwM,GA5BmB,SA6BMhQ,mBAAS,IA7Bf,qBA6B1BqF,GA7B0B,MA6Bb4K,GA7Ba,SA8BRjQ,mBAAS,IA9BD,qBA8B1BwF,GA9B0B,MA8BpB0K,GA9BoB,SA+BNlQ,mBAAS,IA/BH,qBA+B1ByF,GA/B0B,MA+BnB0K,GA/BmB,SAgCRnQ,mBAAS,IAhCD,qBAgC1BoQ,GAhC0B,MAgCpBC,GAhCoB,SAiCJrQ,mBAAS,UAjCL,qBAiC1B+C,GAjC0B,MAiClBuN,GAjCkB,SAkCJtQ,mBAAS,IAlCL,qBAkC1BuQ,GAlC0B,MAkClBC,GAlCkB,SAmCIxQ,mBAAS,IAnCb,qBAmC1ByQ,GAnC0B,MAmCdC,GAnCc,SAoCJ1Q,mBAAS,IApCL,qBAoC1B2Q,GApC0B,MAoClBC,GApCkB,SAqCP5Q,mBAAS,IArCF,qBAqC1BsE,GArC0B,MAqCpBC,GArCoB,MAsC5B0H,GAAUC,cAQV2E,GAAiBC,OAAOC,KAAKjC,GAAc3L,KAAI,SAACmE,EAAMlE,GAC1D,MAAO,CAAEoE,IAAKpE,EAAGqE,KAAMH,EAAMI,MAAOJ,MAGtCrG,qBAAU,WACRqE,GAAWiK,EAAcT,EAAaxJ,GAASnC,KAAI,SAACmE,EAAMlE,GACxD,MAAO,CAAEoE,IAAKpE,EAAGqE,KAAMH,EAAMI,MAAOJ,SAErC,CAAChC,IAGJrE,qBAAU,WACR,IACM+P,EADerJ,EAAY9E,QAAO,SAAAyE,GAAI,OAAIA,EAAKC,WAAa,OACjCpE,KAAI,SAACmE,EAAMlE,GAC1C,MAAO,CAAEoE,IAAKpE,EAAGqE,KAAMH,EAAK9B,KAAMkC,MAAOJ,EAAK9B,SAEhDiK,EAAWuB,KACV,CAAC1B,IAGJrO,qBAAU,WACRuP,GAAU,CACR7L,IAAKL,GAAMnB,KAAI,SAAAwB,GAAG,OAAIA,EAAIpB,OAC1B+B,QAASA,EACTC,WAAYmK,EACZjM,KAAMA,EAENgB,KAAMA,EACNf,aAAcA,EACduN,QAASjL,EACTxC,MAAOA,GACP6B,YAAaA,GACbG,KAAMA,GACNC,MAAOA,GACP2K,KAAMA,GACNrN,OAAQA,GACRmO,SAAUT,OAEX,CAACnL,EAAQoK,EAAmBjM,EAAK6L,EAAe7K,EAAKuB,EAAMxC,GAAM6B,GAAYG,GAAKC,GAAM2K,GAAKrN,GAAO0N,GAAW/M,EAAaY,KAE/H,IAAM6M,GAAW,uCAAG,gCAAArL,EAAA,6DACZsL,EADY,aACCT,IACbU,EAAW,IAAIC,SACrBC,QAAQC,IAAIJ,GACZA,EAAOjO,KAAI,SAAAwB,GAET0M,EAASI,OAAO,QAAS9M,MANT,SASG+M,QAAQC,QAAQxL,IAAM2D,KAAN,UAAclF,EAAOC,UAArB,eAA4CwM,IAT/D,OASZd,EATY,OAUlBhM,GAASgM,EAAOrP,MAVE,2CAAH,qDA+CX0Q,GAAkB,SAACC,GACvB,GAAGpB,GAAWqB,SAASD,GAAU,CAC/B,IAAME,EAAgBtB,GAAW5N,QAAO,SAAAyE,GAAI,OAAIA,IAASuK,KACzDnB,GAAcqB,GACdhC,EAAS/J,EAAQ,SAEjB0K,GAAc,GAAD,oBAAKD,IAAL,CAAgBoB,KAC7B9B,EAAS/J,EAAQ,KAIf0F,GAAWlL,sBAAW,uCAAC,WAAM2L,GAAN,qBAAArG,EAAA,sEACrBqL,KADqB,cAErBxH,EAAO9I,KAAKM,MAAMR,aAAaS,QAAQ,aAAaf,OAF/B,SAGLqR,QAAQC,QAAQxL,IAAMC,IAAN,UAAaxB,EAAOC,UAApB,sBAA2C8E,KAHtD,cAGrBqI,EAHqB,gBAKR7L,IAAM2D,KAAN,UAAclF,EAAOC,UAArB,YAA0CsH,GAC5D9F,MAAK,SAAAC,GAAG,OAAIA,EAAIpF,KAAKqC,OANK,cAKrB0O,EALqB,OAQrBC,EARqB,uBAQRF,EAAQ9Q,KAAKc,KARL,CAQSiQ,IART,UASF9L,IAAMgM,IAAN,UAAavN,EAAOC,UAApB,4BAAiD8E,GAAQuI,GAAQ7L,MAAK,SAAAC,GAAG,OAAI2F,GAAQG,KAAK,YATxF,2DAAD,sDAWzB,IAEH,OACE,sBAAK1K,UAAU,YAAf,UACE,eAACsJ,GAAA,EAAD,CAAMtJ,UAAU,KAAK0Q,OAAO,OAAOC,QAAQ,sBAA3C,UACE,sBAAK3Q,UAAU,cAAf,UACE,sBAAKA,UAAU,WAAf,UACE,oBAAIA,UAAU,YAAd,0JACA,cAAC0G,EAAA,EAAD,CAAUE,WAAS,EAAC5G,UAAU,YAAY6G,QAAM,EAACE,QAASoI,GAAgBrI,WAAS,EAACH,YAAY,uCAASK,SAAU,SAACC,GAAD,OAAOiG,EAAWjG,EAAEC,OAAOC,cAC9I,cAACT,EAAA,EAAD,CAAUE,WAAS,EAAC5G,UAAU,YAAY2G,YAAY,yDAAYE,QAAM,EAACC,WAAS,EAACC,QAASlD,EAAYmD,SAAU,SAACC,GAAD,OAAOgH,EAAsBhH,EAAEC,OAAOC,cACxJ,cAACT,EAAA,EAAD,CAAUE,WAAS,EAAC5G,UAAU,YAAY2G,YAAY,qBAAME,QAAM,EAACC,WAAS,EAAEC,QA7HnE,CACnB,CAAEjB,IAAK,EAAGC,KAAM,6CAAWC,MAAO,8CAClC,CAAEF,IAAK,EAAGC,KAAM,6CAAWC,MAAO,8CAClC,CAAEF,IAAK,EAAGC,KAAM,uCAAUC,MAAO,yCA0H4EgB,SAAU,SAACC,GAAD,OAAOiH,EAAQjH,EAAEC,OAAOC,cAEvI,cAACT,EAAA,EAAD,CAAUE,WAAS,EAAC5G,UAAU,YAAY2G,YAAY,iCAAQE,QAAM,EAACC,WAAS,EAACC,QAAS+G,EAAS9G,SAAU,SAACC,GAAD,OAAOkH,EAAQlH,EAAEC,OAAOC,cACnI,cAACqC,GAAA,EAAD,CAAOxJ,UAAU,YAAY2G,YAAY,6BAASK,SAAU,SAACC,GAAD,OAAOmH,EAAgBnH,EAAEC,OAAOlB,aAE9F,sBAAKhG,UAAU,UAAf,UACE,oBAAIA,UAAU,YAAd,sCACA,uBAAO+B,KAAK,OAAOiF,SAAU,SAACC,GAAD,OAAOiI,GAAUjI,EAAEC,OAAO0J,QAAQC,UAAQ,IACtE,aAAI5B,IAAQxN,KAAI,SAACqP,EAAMpP,GAAP,OACf,qBAAK1B,UAAU,mBAAf,SACE,qBAAKgD,IAAK+N,IAAIC,gBAAgBF,GAAOzN,MAAM,MAAMC,OAAO,aAG5D,cAACU,EAAA,EAAD,CAAQlB,QAAS,kBAAM2M,MAAvB,mGAGJ,sBAAKzP,UAAU,cAAf,UACE,sBAAKA,UAAU,WAAf,UACE,oBAAIA,UAAU,YAAd,+GACA,wFACA,cAACwJ,GAAA,EAAD,CAAOxJ,UAAU,YAAYgH,SAAU,SAACC,GAAD,OAAOqH,GAASrH,EAAEC,OAAOlB,UAChE,kFACA,cAACiL,GAAA,EAAD,CAAUjK,SAAU,SAACC,GAAD,OAAOsH,GAAetH,EAAEC,OAAOlB,aAErD,sBAAKhG,UAAU,eAAf,UACE,oBAAIA,UAAU,YAAd,8DACA,8BAAK,cAACwJ,GAAA,EAAD,CAAOxJ,UAAU,YAAY2G,YAAY,qBAAMK,SAAU,SAACC,GAAD,OAAOuH,GAAQvH,EAAEC,OAAOlB,YACtF,8BAAK,cAACwD,GAAA,EAAD,CAAOxJ,UAAU,YAAY2G,YAAY,6CAAUK,SAAU,SAACC,GAAD,OAAOwH,GAASxH,EAAEC,OAAOlB,YAC3F,8BAAK,cAACwD,GAAA,EAAD,CAAOxJ,UAAU,YAAY2G,YAAY,iCAAQK,SAAU,SAACC,GAAD,OAAO0H,GAAQ1H,EAAEC,OAAOlB,kBAG5F,sBAAKhG,UAAU,cAAf,UACE,sBAAKA,UAAU,WAAf,UACE,4MACA,qBAAKA,UAAU,mBAAf,SACE,wBAAQyD,MAAkB,SAAXpC,GAAoB,CAAC6P,gBAAgB,WAAa,CAACA,gBAAgB,WAAYlR,UAAU,wBAAwB8C,QAAS,WAnGrI,SAAXzB,IACDgN,GAAS,WACP,MAAc,WAAXhN,GACMiD,EAAQ,GAAK,GAEbA,EAAQ,MAGnBsK,GAAU,UAEVP,EAAS/J,EAAQ,IACjBsK,GAAU,YAwFF,2GAIF,qBAAK5O,UAAU,mBAAf,SACE,wBAAQyD,MAAkB,WAAXpC,GAAsB,CAAC6P,gBAAgB,WAAa,CAACA,gBAAgB,WAAYlR,UAAU,0BAA0B8C,QAAS,SAACmE,GAAD,MAxFzI,WAAX5F,GACDgN,GAAS,WACP,MAAc,SAAXhN,GACMiD,EAAQ,GAAK,GAEbA,EAAQ,OAInB+J,EAAS/J,EAAQ,IACjBsK,GAAU,gBAEUA,GAAX,WAAXvN,GAAgC,SAAsB,WA4E5C,gIAKJ,sBAAKrB,UAAU,WAAf,UACE,mIACA,qBAAKA,UAAU,mBAAf,SAAkC,wBAAQyD,MAAQsL,GAAWqB,SAAS,UAAY,CAACc,gBAAgB,WAAa,CAACA,gBAAgB,WAAYlR,UAAU,wBAAwB8C,QAAS,kBAAMoN,GAAgB,WAA5K,8CAClC,qBAAKlQ,UAAU,mBAAf,SAAkC,wBAAQyD,MAAQsL,GAAWqB,SAAS,SAAW,CAACc,gBAAgB,WAAa,CAACA,gBAAgB,WAAalR,UAAU,wBAAwB8C,QAAS,kBAAMoN,GAAgB,UAA5K,uDAEpC,sBAAKlQ,UAAU,WAAf,UACE,oOACA,wBAAQA,UAAU,wBAAwByD,MAAQsL,GAAWqB,SAAS,QAAU,CAACc,gBAAgB,WAAa,CAACA,gBAAgB,WAAYpO,QAAS,kBAAMoN,GAAgB,SAA1K,wDACA,wBAAQlQ,UAAU,wBAAwByD,MAAQsL,GAAWqB,SAAS,aAAe,CAACc,gBAAgB,WAAa,CAACA,gBAAgB,WAAYpO,QAAS,kBAAMoN,GAAgB,cAA/K,qGAEF,sBAAKlQ,UAAU,WAAf,UACE,2JACA,wBAAQA,UAAU,yBAAyByD,MAAQsL,GAAWqB,SAAS,aAAe,CAACc,gBAAgB,WAAa,CAACA,gBAAgB,WAAYpO,QAAS,kBAAMoN,GAAgB,cAAhL,6FACA,wBAAQlQ,UAAU,yBAAyByD,MAAQsL,GAAWqB,SAAS,UAAY,CAACc,gBAAgB,WAAa,CAACA,gBAAgB,WAAYpO,QAAS,kBAAMoN,GAAgB,WAA7K,wDAGJ,gCACE,wCAAW5L,EAAX,OACA,cAACN,EAAA,EAAD,CAAQmN,UAAQ,EAAC1K,MAAM,QAAQ3D,QAAS,kBAAMkH,GAAS6E,KAAvD,sFAKJ,cAAC5C,GAAD,CAAQ3H,MAAOA,OCjPN,SAAS8M,GAAT,GAA6B,IAAPhQ,EAAM,EAANA,GAAM,EACf9C,mBAAS,IADM,mBAClCsE,EADkC,KAC3BC,EAD2B,KAIzC,OAFAgN,QAAQC,IAAI1O,GAGV,cAACiH,GAAA,EAAD,UACE,sBAAKrI,UAAU,gBAAf,UACE,sBAAKA,UAAU,yBAAf,UACE,sBAAKA,UAAU,0BAAf,UACE,6BAAKoB,EAAGU,QACR,4BAAIV,EAAGuC,iBAET,sBAAK3D,UAAU,0BAAf,UACE,2DACA,sBAAKA,UAAU,2BAAf,UACE,cAAC,WAAD,UACGoB,EAAG6B,KAAO7B,EAAG6B,IAAIxB,KAAI,SAAAwB,GAAG,OACvB,qBAAKH,QAAS,kBAAMD,EAASI,IAA7B,SACE,qBAAKD,IAAG,UAAKE,EAAOC,UAAZ,uBAAoCF,YAKhDL,GACA,qBAAK5C,UAAU,gBAAgB8C,QAAS,kBAAMD,EAAS,KAAvD,SACE,qBAAK7C,UAAU,QAAf,SACE,qBAAKA,UAAU,kBAAf,SACE,qBAAKA,UAAU,oBAAoBgD,IAAG,UAAKE,EAAOC,UAAZ,uBAAoCP,GAASS,MAAM,uBAQvG,sBAAKrD,UAAU,yBAAf,UACE,gCACE,mIACA,4BAAIoB,EAAG2B,OACP,mDAAO3B,EAAGW,QACV,4BAAIX,EAAGwC,UACP,4BAAIxC,EAAGyC,aACP,2DAAUzC,EAAGY,mBAEf,gCACE,mFACA,qDAASZ,EAAG0C,QACZ,6EAAa1C,EAAG2C,SAChB,4BAAG,cAACC,EAAA,EAAD,yIChDA,SAASqN,KAAiB,IAC/Bd,EAASe,cAATf,KAD8B,EAEhBjS,mBAAS,IAFO,mBAE9B8C,EAF8B,KAE1BmQ,EAF0B,KAStC,OALAhS,oBAAS,sBAAC,sBAAA6E,EAAA,sEACFK,IAAMC,IAAN,UAAaxB,EAAOC,UAApB,oBAAyCoN,IAAQ5L,MAAK,SAAAC,GAAG,OAAI2M,EAAM3M,EAAIpF,SADrE,2CAGP,CAAC+Q,IAGF,8BACE,cAACa,GAAD,CAAYhQ,GAAIA,MCRP,SAASoQ,KACtB,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO/I,KAAK,QAAQC,OAAK,EAAzB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOD,KAAK,WAAWC,OAAK,EAA5B,SACE,cAACR,GAAD,MAEF,cAAC,IAAD,CAAOO,KAAK,SAAZ,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,mBAAmBwB,UAAWoH,KAC1C,cAAC,IAAD,CAAO5I,KAAK,QAAQwB,UAAWC,KAC/B,cAAC,IAAD,CAAOzB,KAAK,gBAAgBwB,UAAW0B,KACvC,cAAC,IAAD,CAAU/J,GAAG,a,sCCqEJ6P,GA7EIC,YAZE,CACnBjI,SAAS,EACTjK,KAAM,GACNgB,MAAO,GACPE,UAAW,GACXE,SAAU,GACVE,eAAgB,GAChBE,QAAS,GACTE,OAAQ,GACRgI,MAAO,OAGuB,sBAC7BhF,EAASyN,SAAU,SAACtR,GACnBA,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ,QAHc,gBAK7BhF,EAAS0N,WAAY,SAACvR,EAAOwR,GAC5BxR,EAAMb,KAAOqS,EAAOC,QAAQ,GAC5BzR,EAAMG,MAAQqR,EAAOC,QAAQ,GAC7BzR,EAAMoJ,SAAU,KARY,gBAU7BvF,EAAS6N,UAAW,SAAC1R,EAAOwR,GAC3BxR,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ2I,EAAOC,QAAQ5I,SAZD,gBAc7BrE,EAAe8M,SAAU,SAACtR,GACzBA,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ,QAhBc,gBAkB7BrE,EAAe+M,WAAY,SAACvR,EAAOwR,GAClCxR,EAAMK,UAAYmR,EAAOC,QACzBzR,EAAMoJ,SAAU,KApBY,gBAsB7B5E,EAAekN,UAAW,SAAC1R,EAAOwR,GACjCxR,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ2I,EAAOC,QAAQ5I,SAxBD,gBA0B7BpE,EAAc6M,SAAU,SAACtR,GACxBA,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ,QA5Bc,gBA8B7BpE,EAAc8M,WAAY,SAACvR,EAAOwR,GACjCxR,EAAMO,SAAWiR,EAAOC,QACxBzR,EAAMoJ,SAAU,KAhCY,gBAkC7B3E,EAAciN,UAAW,SAAC1R,EAAOwR,GAChCxR,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ2I,EAAOC,QAAQ5I,SApCD,gBAsC7BnE,EAAoB4M,SAAU,SAACtR,GAC9BA,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ,QAxCc,gBA0C7BnE,EAAoB6M,WAAY,SAACvR,EAAOwR,GACvCxR,EAAMS,eAAiB+Q,EAAOC,QAC9BzR,EAAMoJ,SAAU,KA5CY,gBA8C7B1E,EAAoBgN,UAAW,SAAC1R,EAAOwR,GACtCxR,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ2I,EAAOC,QAAQ5I,SAhDD,gBAkD7BlE,EAAa2M,SAAU,SAACtR,GACvBA,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ,QApDc,gBAsD7BlE,EAAa4M,WAAY,SAACvR,EAAOwR,GAChCxR,EAAMW,QAAU6Q,EAAOC,QACvBzR,EAAMoJ,SAAU,KAxDY,gBA0D7BzE,EAAa+M,UAAW,SAAC1R,EAAOwR,GAC/BxR,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ2I,EAAOC,QAAQ5I,SA5DD,gBA8D7BjE,EAAY0M,SAAU,SAACtR,GACtBA,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ,QAhEc,gBAkE7BjE,EAAY2M,WAAY,SAACvR,EAAOwR,GAC/BxR,EAAMa,OAAS2Q,EAAOC,QACtBzR,EAAMoJ,SAAU,KApEY,gBAsE7BxE,EAAY8M,UAAW,SAAC1R,EAAOwR,GAC9BxR,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ2I,EAAOC,QAAQ5I,SAxED,KCUjB8I,GAhBKN,YANC,CACnBjI,SAAS,EACTjK,KAAM,GACN0J,MAAO,OAGwB,mBAAC,GAC/BnB,GAAU4J,SAAU,SAACtR,GACpBA,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ,QAHe,aAAC,GAK/BnB,GAAU6J,WAAY,SAACvR,EAAOwR,GAC7BxR,EAAMb,KAAOqS,EAAOC,QACpBzR,EAAMoJ,SAAU,KAPa,aAAC,GAS/B1B,GAAUgK,UAAW,SAAC1R,EAAOwR,GAC5BxR,EAAMoJ,SAAU,EAChBpJ,EAAM6I,MAAQ2I,EAAOC,QAAQ5I,SAXA,KCLlB+I,gBAAgB,CAC7B3R,IAAKmR,GACLxJ,KAAM+J,GACNlI,KAAMoI,OCAFC,GCJGC,YAAe,CACpBC,QAASC,GACTC,UAAU,IDoBCC,OAhBf,WAAgB,IAAD,EACmCnU,IAAxCE,EADK,EACLA,MAAOM,EADF,EACEA,MAAOQ,EADT,EACSA,OAAQV,EADjB,EACiBA,OAAQF,EADzB,EACyBA,MAChCqB,IAAoBvB,EAE1B,OACE,cAAC,IAAD,CAAU4T,MAAOA,GAAjB,SACE,cAACxS,EAAY8S,SAAb,CAAuBzM,MAAO,CAAEzH,QAAOM,QAAOQ,SAAQV,SAAQF,QAAOqB,mBAArE,SACE,cAAC,IAAD,UACE,cAAC0R,GAAD,WENKkB,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBjO,MAAK,YAAkD,IAA/CkO,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,SAI1BZ,O","file":"static/js/main.5db048b6.chunk.js","sourcesContent":["import {useState, useCallback, useEffect} from 'react'\r\n\r\nconst storageName = 'userData'\r\n\r\nexport const useAuth = () => {\r\n  const [token, setToken] = useState(null)\r\n  const [ready, setReady] = useState(false)\r\n  const [userId, setUserId] = useState(null)\r\n \r\n\r\n  const login = useCallback((jwtToken, id) => {\r\n    setToken(jwtToken)\r\n    setUserId(id)\r\n\r\n    localStorage.setItem(storageName, JSON.stringify({\r\n      userId: id, token: jwtToken\r\n    }))\r\n  }, [])\r\n\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null)\r\n    setUserId(null)\r\n    localStorage.removeItem(storageName)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(localStorage.getItem(storageName))\r\n\r\n    if (data && data.token) {\r\n      login(data.token, data.userId)\r\n    }\r\n    setReady(true)\r\n  }, [login])\r\n\r\n\r\n  return { login, logout, token, userId: userId, ready }\r\n}","import { createContext } from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n  token: null,\r\n  userId: null,\r\n  login: noop(),\r\n  logout: noop(),\r\n  isAuthenticated: false\r\n})","import React from 'react'\r\nimport './Logo.scss'\r\n\r\nexport default function Logo() {\r\n  return (\r\n    <div className='logo'>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './Navbar.scss'\r\n\r\nexport default function Navbar() {\r\n  return (\r\n    <nav className='navbar navbar--ml'>\r\n      <ul className='navbar__list'>\r\n        <li className='navbar__item navbar__item--active navbar__board'>\r\n          <span>Доска объявлений</span>\r\n          <ul className='navbar__submenu'>\r\n            <li>Продам/Куплю</li>\r\n            <li>Недвижимость</li>\r\n            <li>Авто</li>\r\n            <li>Услуги</li>\r\n            <li>Работа</li>\r\n            <li>Новые авто</li>\r\n            <li>Новые квартиры</li>\r\n            <li>Блогеры</li>\r\n          </ul>\r\n        </li>\r\n        <li className='navbar__item navbar__market'>\r\n          Рынок, Магазины\r\n          <ul className='navbar__submenu '>\r\n            <li>Case 1</li>\r\n            <li>Case 2</li>\r\n            <li>Case 3</li>\r\n            <li>Case 4</li>\r\n          </ul>\r\n        </li>\r\n        <li className='navbar__item'>\r\n          Заказ еды/Рестораны\r\n          <ul className='navbar__submenu '>\r\n            <li>Case 5</li>\r\n            <li>Case 6</li>\r\n            <li>Case 7</li>\r\n            <li>Case 8</li>\r\n          </ul>\r\n        </li>\r\n        <li className='navbar__item'>\r\n          Услуги профессионалов\r\n          <ul className='navbar__submenu '>\r\n            <li>Case 9</li>\r\n            <li>Case 10</li>\r\n            <li>Case 11</li>\r\n            <li>Case 12</li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n      <div className=\"navbar__box\"></div>\r\n    </nav>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport Logo from '../Logo/Logo'\r\nimport Navbar from '../Navbar/Navbar'\r\nimport './Header.scss'\r\n\r\nexport default function Header() {\r\n  return (\r\n    <header className='headerContent'>\r\n      <div className='container'>\r\n        <div className='headerContent__content'>\r\n          <Logo />\r\n          <Navbar />\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getAds = createSelector(\r\n  state => state.ads.data,\r\n  ads => ads\r\n);\r\n\r\nexport const getPages = createSelector(\r\n  state => state.ads.pages,\r\n  pages => pages\r\n);\r\n\r\nexport const getSharesAds = createSelector(\r\n  state => state.ads.sharesAds,\r\n  ads => ads\r\n);\r\n\r\nexport const getSalesAds = createSelector(\r\n  state => state.ads.salesAds,\r\n  ads => ads\r\n);\r\n\r\nexport const getRecommendedAds = createSelector(\r\n  state => state.ads.recommendedAds,\r\n  ads => ads\r\n);\r\n\r\nexport const getHotsAds = createSelector(\r\n  state => state.ads.hotsAds,\r\n  ads => ads\r\n);\r\n\r\nexport const getRunsAds = createSelector(\r\n  state => state.ads.runAds,\r\n  ads => ads\r\n);\r\n\r\nexport const getGoldAds = createSelector(\r\n  getAds,\r\n  ads => ads.filter(ad => ad.status === 'gold').reverse()\r\n);\r\n\r\nexport const getSilverAds = createSelector(\r\n  getAds,\r\n  ads => ads.filter(ad => ad.status === 'silver').reverse()\r\n);\r\n\r\nexport const getCommonAds = createSelector(\r\n  getAds,\r\n  ads => ads.filter(ad => ad.status === 'common').reverse()\r\n);","export default __webpack_public_path__ + \"static/media/logo.71baf4cf.png\";","import React from 'react'\r\nimport { Grid } from 'semantic-ui-react'\r\nimport './RecommendedAds.scss'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function RecommendedAds({ recommendedAds }) {\r\n  return (\r\n    <Grid className='sales-ads' >\r\n      {\r\n        recommendedAds.map((ad, i) => (\r\n          <Grid.Column key={i} className='sales-ads__item'>\r\n            <Link to={`/detailsAd/${ad._id}`}>{ad.title} {ad.type} {ad.productPrice}$</Link>\r\n          </Grid.Column>\r\n        ))\r\n      }\r\n    </Grid>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function HotsAds({ hotsAds }) {\r\n\r\n  return (\r\n    <ul className='shares-list'>\r\n      {hotsAds.map(ad => (\r\n        <li className='shares-list__item'><Link to={`/detailsAd/${ad._id}`}>{ad.title} {ad.type} {ad.productPrice}$ </Link></li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n","import React,{useEffect, useState} from 'react'\r\nimport _ from 'lodash'\r\nimport {Link} from 'react-router-dom'\r\nexport default function RunAd({runAds}) {\r\n  const [ selectedAd, setSelectedAd ] = useState(() => _.sample(runAds))\r\n \r\n  useEffect(() => {\r\n    const randomAd = _.sample(runAds)\r\n    setSelectedAd(randomAd)\r\n  }, [runAds])\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        selectedAd &&\r\n        <marquee><Link to={`/detailsAd/${selectedAd._id}`}>{selectedAd.title} {selectedAd.productPrice}$ </Link></marquee>\r\n      }\r\n      \r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Button, Header } from 'semantic-ui-react'\r\nimport config from '../../config/default.json'\r\nimport logo from '../../assets/png/logo.png'\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport 'reactjs-popup/dist/index.css';\r\nimport './AdvertList.scss'\r\nimport { NavLink } from 'react-router-dom'\r\nimport RecomendedAds from '../RecommendedAds/RecommendedAds'\r\nimport HotsAds from '../HotsAds/HotsAds'\r\nimport RunAd from '../RunAd/RunAd'\r\n\r\nexport default function AdvertList({ advertArr, recommendedAds, hotsAds,runAds }) {\r\n\tconst [isOpenInfo, setIsOpenInfo] = useState('')\r\n\tconst [imgId, setImgId] = useState('')\r\n\r\n\treturn (\r\n\t\t<ul className='adsList'>\r\n\t\t\t{advertArr.map((ad, i) => (\r\n\t\t\t\t<div key={i}>\r\n\t\t\t\t\t{i === 3 && <RunAd runAds={runAds}/>}\r\n\t\t\t\t\t<li className={`adsList__item ${ad.status}`} onClick={ad._id === isOpenInfo ? () => setIsOpenInfo('') : () => setIsOpenInfo(ad._id)}>\r\n\t\t\t\t\t\t<span>{ad.city} </span>\r\n\t\t\t\t\t\t<span><img src={!ad.img[0] ? logo : `${config.serverUrl}/api/images/${ad.img[0]}`} width='50' height='50' /></span>\r\n\t\t\t\t\t\t<span>{ad.title}</span>\r\n\t\t\t\t\t\t<span>{ad.type}</span>\r\n\t\t\t\t\t\t<span>{ad.date}</span>\r\n\t\t\t\t\t\t<span>{ad.productPrice}$ </span>\r\n\t\t\t\t\t\t<NavLink to={`/detailsAd/${ad._id}`}><button data-tooltip='открыть в новом окне' className='adsList__openAd'></button></NavLink>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<div className='adsList__info' style={isOpenInfo === ad._id ? { display: 'flex' } : { display: 'none' }}>\r\n\t\t\t\t\t\t<div className=\"adsList__content\">\r\n\t\t\t\t\t\t\t<div className=\"adsList__infoContainer\">\r\n\t\t\t\t\t\t\t\t<div className=\"adsList__titleContainer\">\r\n\t\t\t\t\t\t\t\t\t<h2>{ad.title}</h2>\r\n\t\t\t\t\t\t\t\t\t<p>{ad.description}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"adsList__photoContainer\">\r\n\t\t\t\t\t\t\t\t\t<h3>Фото:</h3>\r\n\t\t\t\t\t\t\t\t\t<div className=\"adsList__sliderContainer\">\r\n\t\t\t\t\t\t\t\t\t\t<Carousel >\r\n\t\t\t\t\t\t\t\t\t\t\t{ad.img.map(img => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div onClick={() => setImgId(img)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={`${config.serverUrl}/api/images/${img}`} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Carousel>\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\timgId &&\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"fixed-overlay\" onClick={() => setImgId('')}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='modal'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal_container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img className='adsList__popupImg' src={`${config.serverUrl}/api/images/${imgId}`} width='500' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"adsList__infoContainer\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h2>Данные объявление</h2>\r\n\t\t\t\t\t\t\t\t\t<p>{ad.city}</p>\r\n\t\t\t\t\t\t\t\t\t<p>Тип{ad.type}</p>\r\n\t\t\t\t\t\t\t\t\t<p>{ad.section}</p>\r\n\t\t\t\t\t\t\t\t\t<p>{ad.subsection}</p>\r\n\t\t\t\t\t\t\t\t\t<p>Цена: {ad.productPrice}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h3>Контакты:</h3>\r\n\t\t\t\t\t\t\t\t\t<p>Имя: {ad.name}</p>\r\n\t\t\t\t\t\t\t\t\t<p>Телефон: {ad.phone}</p>\r\n\t\t\t\t\t\t\t\t\t<p><Button>Отправить сообщение</Button></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{recommendedAds &&\r\n\t\t\t\t\t\t\t\t<div className='recommended-ads'>\r\n\t\t\t\t\t\t\t\t\t<Header>Рекомендуемые</Header>\r\n\t\t\t\t\t\t\t\t\t<RecomendedAds recommendedAds={recommendedAds} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thotsAds &&\r\n\t\t\t\t\t\t\t<div className=\"adsList__content adsList__hots\">\r\n\t\t\t\t\t\t\t\t<Header as='h2'>Горячие</Header>\r\n\t\t\t\t\t\t\t\t<HotsAds hotsAds={hotsAds} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</ul>\r\n\t)\r\n}\r\n","import { createAsyncThunk,createAction  } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\n\r\nexport const fetchAds = createAsyncThunk('ads/fetchAds', async ({page,city,price,date}) => {\r\n  let selectedFilterPrice = null;\r\n  if(price === 'По убыванию') {\r\n    selectedFilterPrice = 'low'\r\n  } else if(price === 'По возрастанию'){\r\n    selectedFilterPrice = 'high'\r\n  }\r\n  let selectedFilterDate = null;\r\n  if(date === 'Сначала новые') {\r\n    selectedFilterDate = 'low'\r\n  } else if(date === 'Сначала старые'){\r\n    selectedFilterDate = 'high'\r\n  }\r\n\r\n  const data = axios.get(`${config.serverUrl}/api/ads?page=${page}&city=${city}&price=${selectedFilterPrice}&date=${selectedFilterDate}`).then(\r\n    res => res.data)\r\n  return data;\r\n});\r\n\r\nexport const fetchSharesAds = createAsyncThunk('ads/fetchSharesAds', async () => {\r\n  const data = axios.get(`${config.serverUrl}/api/ads/sharesAdverts`).then(\r\n    res => res.data)\r\n  return data;\r\n});\r\n\r\nexport const fetchSalesAds = createAsyncThunk('ads/fetchSalesAds', async () => {\r\n  const data = axios.get(`${config.serverUrl}/api/ads/salesAdverts`).then(\r\n    res => res.data)\r\n  return data;\r\n});\r\n\r\nexport const fetchRecommendedAds = createAsyncThunk('ads/fetchRecommendedAds', async () => {\r\n  const data = axios.get(`${config.serverUrl}/api/ads/recommendedAdverts`).then(\r\n    res => res.data)\r\n  return data;\r\n});\r\n\r\nexport const fetchHotsAds = createAsyncThunk('ads/fetchHotsAds', async () => {\r\n  const data = axios.get(`${config.serverUrl}/api/ads/hotsAdverts`).then(\r\n    res => res.data)\r\n  return data;\r\n});\r\n\r\nexport const fetchRunAds = createAsyncThunk('ads/fetchRunAds', async () => {\r\n  const data = axios.get(`${config.serverUrl}/api/ads/runAdverts`).then(\r\n    res => res.data)\r\n  return data;\r\n});","import React from 'react'\r\nimport './SharesList.scss'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function SharesList({ sharesArr }) {\r\n  return (\r\n    <ul className='shares-list'>\r\n      {sharesArr.map(ad => (\r\n          <li className='shares-list__item'><Link to={`/detailsAd/${ad._id}`}>{ad.title} {ad.type} {ad.productPrice}$ </Link></li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Grid } from 'semantic-ui-react'\r\nimport './SalesAds.scss'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function SalesAds({salesArr}) {\r\n  return (\r\n    <Grid className='sales-ads' >\r\n      {\r\n        salesArr.map((ad,i)=> (\r\n          <Grid.Column key={i} className='sales-ads__item'>\r\n            <Link to={`/detailsAd/${ad._id}`}>{ad.title} {ad.type} {ad.productPrice}$</Link>\r\n          </Grid.Column>\r\n        ))\r\n      }\r\n    </Grid>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport './HomePage.scss'\r\nimport HeaderNav from '../../components/Header/Header'\r\nimport { Button, Pagination, Header, Dropdown } from 'semantic-ui-react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { useAuth } from '../../hooks/useAuth'\r\nimport { getAds, getSharesAds, getSalesAds, getRecommendedAds, getHotsAds, getRunsAds,getPages } from '../../redux/selectors/adsSelector';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport AdvertList from '../../components/AdvertList/AdvertList'\r\nimport { fetchAds, fetchSharesAds, fetchSalesAds, fetchRecommendedAds, fetchHotsAds, fetchRunAds } from '../../redux/actions/adsAction'\r\nimport SharesList from '../../components/SharesList/SharesList'\r\nimport SalesAds from '../../components/SalesAds/SalesAds'\r\nimport * as cityData from '../../assets/json/russian-cities.json'\r\n\r\nexport default function HomePage() {\r\n  const { token, userId } = useAuth()\r\n  const isAuth = !!token;\r\n  const ads = useSelector(getAds);\r\n  const pages = useSelector(getPages)\r\n  const sharesAds = useSelector(getSharesAds)\r\n  const salesAds = useSelector(getSalesAds)\r\n  const recommendedAds = useSelector(getRecommendedAds)\r\n  const hotsAds = useSelector(getHotsAds)\r\n  const runAds = useSelector(getRunsAds)\r\n  const dispatch = useDispatch();\r\n  const [cityDataArr, setCityDataArr] = useState(() => {\r\n    const data = JSON.parse(JSON.stringify(cityData.default))\r\n    const filteredCity = data.filter(item => item.population > 500000)\r\n    const optionsCity = filteredCity.map((item, i) => {\r\n      return { key: i, text: item.name, value: item.name }\r\n    })\r\n    return optionsCity\r\n  }) // options for city filter\r\n  const [ selectedCity, setSelectedCity ] = useState('') // dropdown city\r\n  const [ selectedFilteredPrice, setSelectedFilteredPrice ] = useState(null);\r\n  const [ selectedFilteredDate, setSelectedFilteredDate ] = useState(null)\r\n  const [ page, setPage ] = useState(1)\r\n  const optionFilterPrice = [\r\n    { key: 1, text: 'По возрастанию', value: 'high' },\r\n    { key: 2, text: 'По убыванию', value: 'low' },\r\n    { key: 3, text: 'Сбросить', value: '' }\r\n  ]\r\n  const optionFilterDate = [\r\n    { key: 1, text: 'Сначала новые', value: 'high' },\r\n    { key: 2, text: 'Сначала старые', value: 'low' },\r\n    { key: 3, text: 'Сбросить', value: '' }\r\n  ]\r\n\r\n  useEffect(async () => {\r\n    dispatch(fetchAds({page: page, city: selectedCity, price: selectedFilteredPrice, date: selectedFilteredDate}))\r\n  }, [page,selectedCity,selectedFilteredPrice,selectedFilteredDate])\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchSharesAds())\r\n    dispatch(fetchSalesAds())\r\n    dispatch(fetchRecommendedAds())\r\n    dispatch(fetchHotsAds())\r\n    dispatch(fetchRunAds())\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <div className='homePage'>\r\n      <HeaderNav/>\r\n      <div className=\"container\">\r\n        <div className='mainContent'>\r\n          <aside className='mainContent__btns'>\r\n            <div className=\"mainContent__newAd\">\r\n              <NavLink to={isAuth ? '/newAd' : '/account'}>\r\n                <Button color='teal' className='mainConent__btnAd'>Дать объявление</Button>\r\n              </NavLink>\r\n            </div>\r\n            <div className=\"mainContent__account\">\r\n              <NavLink to={'/account'}>\r\n                <Button>Личный кабинет</Button>\r\n              </NavLink>\r\n            </div>\r\n          </aside>\r\n          <div className=\"mainContent__discounts\">\r\n            <Header as='h2'>Скидки</Header>\r\n            <SalesAds salesArr={salesAds} />\r\n          </div>\r\n        </div>\r\n        <div className='ads'>\r\n          <div className=\"ads__shares\">\r\n            <h2>Акции:</h2>\r\n            <SharesList sharesArr={sharesAds} />\r\n          </div>\r\n          <div className=\"ads__list\">\r\n            <div className='filter'>\r\n              <Header as='h3'>Фильтр</Header>\r\n              <Dropdown placeholder='Город' clearable search selection options={cityDataArr} onChange={(e) => setSelectedCity(e.target.innerText)} />\r\n              <Dropdown placeholder='Цена' search selection options={optionFilterPrice} onChange={(e) => setSelectedFilteredPrice(e.target.innerText)} />\r\n              <Dropdown placeholder='По дате' search selection options={optionFilterDate} onChange={(e) => setSelectedFilteredDate(e.target.innerText)} />\r\n            </div>\r\n            {ads && <AdvertList advertArr={ads} recommendedAds={recommendedAds} hotsAds={hotsAds} runAds={runAds} />}\r\n            <Pagination\r\n              boundaryRange={0}\r\n              defaultActivePage={1}\r\n              ellipsisItem={null}\r\n              firstItem={null}\r\n              lastItem={null}\r\n              siblingRange={1}\r\n              totalPages={pages}\r\n              onPageChange={(event) => setPage(event.target.getAttribute('value'))}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { createAsyncThunk,createAction  } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\n\r\nexport const fetchUser = createAsyncThunk('user/fetchUser', async () => {\r\n  const userId = JSON.parse(localStorage.getItem('userData')).userId\r\n  const data = axios.get(`${config.serverUrl}/api/users/${userId}`).then(\r\n    res => res.data)\r\n  return data;\r\n});\r\n\r\n\r\n","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getUser = createSelector(\r\n  state => state.user.data,\r\n  user => user\r\n);","import React,{useEffect, useState} from 'react'\r\nimport { Header, Button,Container,Grid } from 'semantic-ui-react'\r\nimport { NavLink, Route, Switch, Link } from \"react-router-dom\"\r\nimport { useAuth } from '../../hooks/useAuth'\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\nimport AdvertList from '../../components/AdvertList/AdvertList'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { fetchUser } from '../../redux/actions/userAction'\r\nimport { getUser } from '../../redux/selectors/userSelector'\r\n\r\nexport default function AccountPage() {\r\n  const {token, logout} = useAuth()\r\n  const isAuth = !!token;\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(getUser)\r\n  const [ads, setAds ] = useState([])\r\n\r\n  useEffect( () => {\r\n    if(isAuth) {\r\n      dispatch(fetchUser())\r\n    }\r\n  }, [isAuth])\r\n\r\n\r\n  // обьявления\r\n  useEffect(()  => {\r\n    if(isAuth) {\r\n      const result = user.ads && axios.post(`${config.serverUrl}/api/ads/getAdverts`,user.ads).then(res => setAds(res.data))\r\n    }\r\n  }, [user])\r\n\r\n  if (isAuth) {\r\n    return (\r\n      <Container>\r\n        <Grid columns={2}>\r\n          <Grid.Column>\r\n            <Header as='h2'>Вы авторизованы</Header>\r\n            <Button onClick={() => logout()}>Выйти</Button>\r\n            <Header as='h2'>Имя: {user.name}</Header>\r\n            <Header as='h2'>Фамилия: {user.surname}</Header>\r\n            <Header as='h2'>Почта: {user.email}</Header>\r\n          </Grid.Column>\r\n          <Grid.Column>\r\n            <Header>Объявления:</Header>\r\n            <AdvertList advertArr={ads}></AdvertList>\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Container>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <Header>\r\n        <Header as='h2'>Войдите или зарегистрируйтесь </Header>\r\n        <NavLink to='/home'>На главную</NavLink>\r\n      </Header>\r\n      <Switch>\r\n        <Route path='/account' exact>\r\n          <Link to='/auth'><Button>Войти</Button></Link>\r\n          <Link to='/registration'><Button>Зарегистрироваться</Button></Link>\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Form, Label, Input } from 'semantic-ui-react';\r\n\r\nfunction TextField({\r\n   input,\r\n   label,\r\n   type,\r\n   meta: { asyncValidating, touched, error, warning },\r\n   ...rest\r\n }) {\r\n\r\n  let labelColor;\r\n\r\n  if(error) {\r\n    labelColor = 'red'\r\n  } else if (warning) {\r\n    labelColor = 'yellow'\r\n  }\r\n  const message = error || warning;\r\n  return (\r\n    <Form.Field>\r\n      <Input\r\n        label={label}\r\n        type={type}\r\n        loading={asyncValidating}\r\n        {...input}\r\n        {...rest}\r\n      />\r\n      {touched && message &&\r\n      <Label\r\n        basic\r\n        color={labelColor}\r\n        pointing='left'\r\n      >\r\n        {message}\r\n      </Label>\r\n      }\r\n    </Form.Field>\r\n  )\r\n}\r\n\r\nexport default TextField;","import React from 'react'\r\nimport { Button } from 'semantic-ui-react'\r\nimport { reduxForm, Field } from 'redux-form'\r\nimport TextField from '../TextField/TextField'\r\n\r\nfunction AuthForm({handleSubmit}) {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className='form__row'>\r\n        <Field className='signUpForm__input' name='email' label='Email' component={TextField} placeholder='test@gmail.com'></Field>\r\n      </div>\r\n      <div className='form__row'>\r\n      <Field className='signUpForm__input' name='password' label='Password' type='password' component={TextField} placeholder='******'></Field>\r\n      </div>\r\n      <Button type='submit'>Войти</Button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default reduxForm({\r\n  form: \"authForm\",\r\n})(AuthForm);","import React, { useCallback,useContext,useState,useEffect } from 'react'\r\nimport { Header, Message } from 'semantic-ui-react'\r\nimport AuthForm from '../../components/AuthForm/AuthForm'\r\nimport axios from 'axios'\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { useHistory } from 'react-router-dom'\r\nimport config from '../../config/default.json'\r\n\r\nexport default function AuthPage() {\r\n  const [ signInSuccess, setSignInSuccess ] = useState(false);\r\n  const [ error, setError ] = useState('');\r\n  const auth = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const onSubmit = useCallback(async values => {\r\n    const result = await axios.post(`${config.serverUrl}/api/auth`, values)\r\n    .then(res => {\r\n      auth.login(res.data.token,res.data.id)\r\n      setSignInSuccess(true)     \r\n      setError('')\r\n      history.push('/home')\r\n    })\r\n    .catch(err => {\r\n      setError(err.response.data.error)\r\n      setSignInSuccess(false)\r\n    })\r\n  },[])\r\n  \r\n  return (\r\n    <div className='container'>\r\n      <Header as='h2'>Введите почту и пароль что-бы войти</Header>\r\n      <AuthForm onSubmit={onSubmit}/>\r\n      {\r\n        error &&\r\n        <Message negative>\r\n          <Message.Header>{error}</Message.Header>\r\n        </Message>\r\n      }\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport axios from 'axios';\r\nimport { Button } from 'semantic-ui-react'\r\nimport { reduxForm, Field } from 'redux-form'\r\nimport TextField from '../TextField/TextField'\r\nimport './RegForm.scss'\r\n\r\nfunction RegForm({handleSubmit, valid, submitting}) {\r\n  return (\r\n    <form className='form' onSubmit={handleSubmit}>\r\n      <div className='form__row'>\r\n        <Field className='form__input' name='name' label='Имя' component={TextField} placeholder='Иван'></Field>\r\n      </div>\r\n      <div className='form__row'>\r\n        <Field className='form__input' name='surname' label='Фамилия' component={TextField} placeholder='Иванов'></Field>\r\n      </div>\r\n      <div className='form__row'>\r\n        <Field className='form__input' name='email' label='Почта' component={TextField} placeholder='test@gmail.com'></Field>\r\n      </div>\r\n      <div className='form__row'>\r\n        <Field className='form__input' name='password' label='Пароль' type='password' component={TextField} placeholder='******'></Field>\r\n      </div>\r\n      <div className='form__row'>\r\n        <Field className='form__input' name='repeatPassword' label='Повторите пароль' type='password' component={TextField} placeholder='******'></Field>\r\n      </div>\r\n      <Button type='submit' disabled={!valid && !submitting}>Зарегистрироваться</Button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst validate = values => {\r\n  const errors = {};\r\n  if(!values.name){\r\n    errors.name = 'Required'\r\n  }\r\n  if(!values.surname){\r\n    errors.surname = 'Required'\r\n  }\r\n  if(!values.email){\r\n    errors.email = 'Required'\r\n  }\r\n  // eslint-disable-next-line\r\n  const re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\r\n  if (!re.test(values.email)) {\r\n    errors.email = 'Wrong email format!'\r\n  }\r\n  if(!values.password){\r\n    errors.password = 'Required'\r\n  }\r\n  if(values.password !== values.repeatPassword){\r\n    errors.repeatPassword = 'Password don`t match'\r\n  }\r\n  return errors\r\n}\r\n\r\nconst asyncValidate = async values => {\r\n  if (!values.email) return;\r\n  const response = await axios.get(`http://localhost:5000/api/registration/is_exist?email=${values.email}`);\r\n  if (response.data.is_exist) {\r\n    throw { email: 'This email is already taken' }\r\n  }\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"registration\",\r\n  validate,\r\n  asyncValidate,\r\n  asyncBlurFields: ['email']\r\n})(RegForm);","import React, { useCallback, useState } from 'react'\r\nimport { Header, Message } from 'semantic-ui-react'\r\nimport RegForm from '../../components/RegForm/RegForm'\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\nimport config from '../../config/default.json'\r\n\r\nexport default function RegPage() {\r\n  const [ signUpSuccess, setSignUpSuccess ] = useState(false);\r\n\r\n  const onSubmit = useCallback(async values => {\r\n    await axios.post(`${config.serverUrl}/api/registration`, values)\r\n    setSignUpSuccess(true)\r\n  },[])\r\n  \r\n  return (\r\n    <div className='container'>\r\n      { signUpSuccess ? \r\n        <Message\r\n          success\r\n          header='Вы успешно зарегистрировались!'\r\n          content={<Link to='/auth'>Войти</Link>}\r\n        />\r\n      :\r\n        <div>\r\n          <Header as='h2'>Заполните поля что-бы зарегистрироваться</Header>\r\n          <RegForm onSubmit={onSubmit}/>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport { LiqPayPay, LiqPaySubscribe } from \"react-liqpay\";\r\n\r\n\r\n\r\nexport default function Liqpay({price = 0 }) {\r\n  const payInfo = {\r\n    amount: price,\r\n    currency: 'RUB',\r\n    title: 'PAY'\r\n  }\r\n\r\n  const ButtonComponent = () => (\r\n    <button style={{\r\n      backgroundColor: '#337ab7',\r\n      color: '#fff',\r\n      borderColor: '#2e6da4',\r\n      border: '1px solid transparent',\r\n      borderRadius: '4px',\r\n      padding: '6px 12px',\r\n      cursor: 'pointer'\r\n    }}>\r\n      {`${payInfo.title} ${payInfo.amount} ${payInfo.currency}`}\r\n    </button>\r\n  )\r\n\r\n  return (\r\n    <div style={{ display: \"flex\" }}>\r\n      <LiqPayPay\r\n        publicKey={process.env.REACT_APP_PUBLIC_KEY}\r\n        privateKey={process.env.REACT_APP_PRIVATE_KEY}\r\n        amount={price}\r\n        description=\"Payment for product\"\r\n        currency=\"RUB\"\r\n        orderId={Math.floor(1 + Math.random() * 900000000)}\r\n        result_url=\"http://domain.com/user/account\"\r\n        server_url=\"http://server.domain.com/liqpay\"\r\n        product_description=\"Online courses\"\r\n        style={{ margin: \"8px\" }}\r\n        disabled={false}\r\n      />\r\n      {/* <LiqPaySubscribe\r\n        publicKey={process.env.REACT_APP_PUBLIC_KEY}\r\n        privateKey={process.env.REACT_APP_PRIVATE_KEY}\r\n        amount={price}\r\n        subscribePeriodicity=\"month\"\r\n        description=\"Payment for subscription\"\r\n        currency=\"RUB\"\r\n        orderId={Math.floor(1 + Math.random() * 900000000)}\r\n        result_url=\"http://domain.com/user/account\"\r\n        server_url=\"http://server.domain.com/liqpay\"\r\n        product_description=\"Online courses\"\r\n        style={{ margin: \"8px\" }}\r\n        disabled={false}\r\n      />\r\n      <LiqPayPay\r\n        publicKey={process.env.REACT_APP_PUBLIC_KEY}\r\n        privateKey={process.env.REACT_APP_PRIVATE_KEY}\r\n        description=\"Payment for product\"\r\n        orderId={Math.floor(1 + Math.random() * 900000000)}\r\n        result_url=\"http://domain.com/user/account\"\r\n        server_url=\"http://server.domain.com/liqpay\"\r\n        product_description=\"Online courses\"\r\n        style={{ margin: \"8px\" }}\r\n        extra={[<ButtonComponent key=\"1\" />]}\r\n      /> */}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useCallback, useEffect, useState,useMemo } from 'react'\r\nimport axios from 'axios'\r\nimport './NewAdPage.scss'\r\nimport { Input, Dropdown,Form,TextArea,Button } from 'semantic-ui-react'\r\nimport * as category from '../../assets/json/category.json'\r\nimport * as cityData from '../../assets/json/russian-cities.json'\r\nimport { useHistory } from 'react-router-dom'\r\nimport config from '../../config/default.json'\r\nimport { useAuth } from '../../hooks/useAuth'\r\nimport _, { toPath } from 'lodash'\r\nimport watermark from 'watermarkjs'\r\nimport logo from '../../assets/png/logo.png'\r\nimport Liqpay from '../../components/Liqpay/Liqpay'\r\n\r\nexport default function NewAdPage() {\r\n  //раздел\r\n  const [section, setSection] = useState('Аудио,Видео,ТВ,Фото')\r\n  const [ stateSection, setStateSection ] = useState(() => JSON.parse(JSON.stringify(category.default)))\r\n  const [ cityDataArr, setCityDataArr ] = useState(() => JSON.parse(JSON.stringify(cityData.default)))\r\n  const [ uniqueSubject, setUniqueSubject ] = useState(() => {\r\n    const popularCity = [];\r\n    cityDataArr.map(item => {\r\n      if(item.population >= 500000){\r\n        popularCity.push(item)\r\n      }\r\n    })\r\n    const dataUnique = new Map();\r\n    popularCity.map((item) => dataUnique.set(item.subject,item.subject));\r\n    const uniqueArr = [];\r\n     dataUnique.forEach((item,i) => { \r\n      uniqueArr.push({ key: i, text: item, value: item }) \r\n    })\r\n    return uniqueArr\r\n  })\r\n  const [ selectedRegion, setSelectedRegion ] = useState('')\r\n  const [ subsection, setSubsection ] = useState([])\r\n  const [ cityArr, setCityArr ] = useState([])\r\n  const [ selectedSubsection, setSelectedSubsection ] = useState('')\r\n  const [ type, setType ] = useState('')\r\n  const [ city, setCity ] = useState('')\r\n  const [ productPrice, setProductPrice ] = useState('')\r\n  const [ price, setPrice ] = useState(0)\r\n  const [ title, setTitle ] = useState('')\r\n  const [ description, setDescription ] = useState('')\r\n  const [ name, setName ] = useState('')\r\n  const [ phone, setPhone ] = useState('')\r\n  const [ mail, setMail ] = useState('')\r\n  const [ status, setStatus ] = useState('common')\r\n  const [ result, setResult ] = useState({})\r\n  const [ serviceArr, setServiceArr ] = useState([])\r\n  const [ images, setImages ] = useState([])\r\n  const [ imgId,setImgId ] = useState([])\r\n  const history = useHistory();\r\n\r\n  const typeAdConfig = [\r\n    { key: 1, text: 'Покупка', value: 'Покупка' },\r\n    { key: 2, text: 'Продажа', value: 'Продажа' },\r\n    { key: 3, text: 'Аренда', value: 'Аренда' }\r\n  ]\r\n\r\n  const optionsSection = Object.keys(stateSection).map((item, i) => {\r\n    return { key: i, text: item, value: item }\r\n  })\r\n\r\n  useEffect(() => {\r\n    section && setSubsection(stateSection[section].map((item, i) => {\r\n      return { key: i, text: item, value: item }\r\n    }))\r\n  }, [section])\r\n\r\n  //Город\r\n  useEffect(() => {\r\n    const filteredCity = cityDataArr.filter(item => item.population > 500000)\r\n    const optionsCity = filteredCity.map((item, i) => {\r\n      return { key: i, text: item.name, value: item.name }\r\n    })\r\n    setCityArr(optionsCity)\r\n  }, [selectedRegion])\r\n\r\n  // подготовка данных формы для отправки\r\n  useEffect(() => {\r\n    setResult({\r\n      img: imgId.map(img => img._id),\r\n      section: section,\r\n      subsection: selectedSubsection,\r\n      type: type,\r\n      // region: selectedRegion,\r\n      city: city,\r\n      productPrice: productPrice,\r\n      priceAd: price,\r\n      title: title,\r\n      description: description,\r\n      name: name,\r\n      phone: phone,\r\n      mail: mail,\r\n      status: status,\r\n      services: serviceArr,\r\n    })\r\n  }, [section,selectedSubsection,type,selectedRegion,city,price,title,description,name,phone,mail,status,serviceArr,productPrice,imgId])\r\n\r\n  const uploadImage = async () => {\r\n    const imgArr = [...images] /// массив с input type file [file,file]\r\n    const formData = new FormData()\r\n    console.log(imgArr)\r\n    imgArr.map(img => {\r\n      // const waterImg = watermark.addTextWatermark(img).then(data => data) /// нужно как-то узнать путь к фото\r\n      formData.append('image', img)\r\n    })\r\n\r\n    const result = await Promise.resolve(axios.post(`${config.serverUrl}/api/images`,formData))\r\n    setImgId(result.data)\r\n  }\r\n\r\n  const onChangeGold = () => {\r\n\r\n    if(status !== 'gold') {\r\n      setPrice(() => {\r\n        if(status === 'silver'){\r\n          return price + 50 - 25\r\n        } else {\r\n          return price + 50\r\n        }\r\n      })\r\n      setStatus('gold')\r\n    } else {\r\n      setPrice(price - 50)\r\n      setStatus('common')\r\n    }\r\n  }\r\n\r\n  const onChangeSilver = () => {\r\n    if(status !== 'silver') {\r\n      setPrice(() => {\r\n        if(status === 'gold') {\r\n          return price + 25 - 50\r\n        } else {\r\n          return price + 25\r\n        }\r\n      })\r\n    } else {\r\n      setPrice(price - 25)\r\n      setStatus('common')\r\n    }\r\n    status !== 'silver' ? setStatus('silver') : setStatus('common')\r\n  }\r\n\r\n\r\n  const onChangeService = (service) => {\r\n    if(serviceArr.includes(service)) {\r\n      const newServiceArr = serviceArr.filter(item => item !== service)\r\n      setServiceArr(newServiceArr)\r\n      setPrice(price - 30)\r\n    } else {\r\n      setServiceArr([...serviceArr,service])\r\n      setPrice(price + 30)\r\n    }\r\n  }\r\n\r\n  const onSubmit = useCallback(async values => {\r\n    await uploadImage()\r\n    const user = JSON.parse(localStorage.getItem('userData')).userId\r\n    const userAds = await Promise.resolve(axios.get(`${config.serverUrl}/api/users/${user}`))\r\n    \r\n    const adId = await axios.post(`${config.serverUrl}/api/ads`, values)\r\n    .then(res => res.data._id)\r\n\r\n    const adsArr = [...userAds.data.ads,adId]\r\n    const saveInUser = await axios.put(`${config.serverUrl}/api/users/newAd/${user}`, adsArr).then(res => history.push('/home'))\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <div className='container'>\r\n      <Form className=\"ad\" method=\"post\" enctype=\"multipart/form-data\">\r\n        <div className=\"ad__content\">\r\n          <div className=\"ad__info\">\r\n            <h2 className='ad__title'>Добавить новое объявление</h2>\r\n            <Dropdown clearable className='ad__input' search options={optionsSection} selection placeholder='Раздел' onChange={(e) => setSection(e.target.innerText)} />\r\n            <Dropdown clearable className='ad__input' placeholder='Подраздел' search selection options={subsection} onChange={(e) => setSelectedSubsection(e.target.innerText)}/>\r\n            <Dropdown clearable className='ad__input' placeholder='Тип' search selection  options={typeAdConfig} onChange={(e) => setType(e.target.innerText)}/>\r\n            {/* <Dropdown clearable className='ad__input' placeholder='Область' search selection options={uniqueSubject} onChange={(e) => setSelectedRegion(e.target.innerText)}/> */}\r\n            <Dropdown clearable className='ad__input' placeholder='Город' search selection options={cityArr} onChange={(e) => setCity(e.target.innerText)}/>\r\n            <Input className='ad__input' placeholder='Цена $' onChange={(e) => setProductPrice(e.target.value)}/>\r\n          </div>\r\n          <div className=\"ad__img\">\r\n            <h2 className='ad__title'>Фото</h2>\r\n            <input type=\"file\" onChange={(e) => setImages(e.target.files)} multiple/>\r\n            {[...images].map((file, i) => (\r\n              <div className='ad__imgContainer'>\r\n                <img src={URL.createObjectURL(file)} width='100' height='100'></img>\r\n              </div>\r\n            ))}\r\n            <Button onClick={() => uploadImage()}>Загрузить фото</Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"ad__content\">\r\n          <div className=\"ad__data\">\r\n            <h2 className='ad__title'>Данные объявление</h2>\r\n            <h3>Заголовок</h3>\r\n            <Input className='ad__input' onChange={(e) => setTitle(e.target.value)}/>\r\n            <p>Описание:</p>\r\n            <TextArea onChange={(e) => setDescription(e.target.value)}/>\r\n          </div>\r\n          <div className=\"ad__contacts\">\r\n            <h2 className='ad__title'>Контакты</h2>\r\n            <div><Input className='ad__input' placeholder='Имя' onChange={(e) => setName(e.target.value)}/></div>\r\n            <div><Input className='ad__input' placeholder='Телефон' onChange={(e) => setPhone(e.target.value)}/></div>\r\n            <div><Input className='ad__input' placeholder='Почта' onChange={(e) => setMail(e.target.value)}/></div>\r\n          </div>\r\n        </div>\r\n        <div className='ad__content'>\r\n          <div className=\"ad__btns\">\r\n            <h3>Объязательно для эффективности</h3>\r\n            <div className='ad__btnContainer'>\r\n              <button style={status === 'gold' ? {backgroundColor:'#ece218'} : {backgroundColor:'#ecff18'}} className='ad__btn--gold ad__btn' onClick={() => onChangeGold()}>\r\n                Выделить золотым\r\n              </button>\r\n            </div>\r\n            <div className='ad__btnContainer'>\r\n              <button style={status === 'silver' ? {backgroundColor:'#bec6c1'} : {backgroundColor:'#ddedd6'}} className='ad__btn--silver ad__btn' onClick={(e) => onChangeSilver()}>\r\n                Выделить серебряным\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"ad__btns\">\r\n            <h3>Увеличение продаж</h3>\r\n            <div className=\"ad__btnContainer\"><button style={ serviceArr.includes('shares') ? {backgroundColor:'#78849A'} : {backgroundColor:'#B4C6E7'}} className='ad__btn--blue ad__btn' onClick={() => onChangeService('shares')}>Акции</button></div>\r\n            <div className=\"ad__btnContainer\"><button style={ serviceArr.includes('sales') ? {backgroundColor:'#78849A'} : {backgroundColor:'#B4C6E7'}}  className='ad__btn--blue ad__btn' onClick={() => onChangeService('sales')}>Скидки</button></div>\r\n          </div>\r\n          <div className=\"ad__btns\">\r\n            <h3>Больше заинтересованых соискателей</h3>\r\n            <button className='ad__btn--gray ad__btn' style={ serviceArr.includes('hots') ? {backgroundColor:'#808080'} : {backgroundColor:'#D9D9D9'}} onClick={() => onChangeService('hots')}>Горячие</button>\r\n            <button className='ad__btn--gray ad__btn' style={ serviceArr.includes('recommend') ? {backgroundColor:'#808080'} : {backgroundColor:'#D9D9D9'}} onClick={() => onChangeService('recommend')}>Рекомендованые</button>\r\n          </div>\r\n          <div className=\"ad__btns\">\r\n            <h3>Привлекающие внимание</h3>\r\n            <button className='ad__btn--green ad__btn' style={ serviceArr.includes('runStroke') ? {backgroundColor:'#8B9D7E'} : {backgroundColor:'#C6E0B4'}} onClick={() => onChangeService('runStroke')}>Бегущая строка</button>\r\n            <button className='ad__btn--green ad__btn' style={ serviceArr.includes('banner') ? {backgroundColor:'#8B9D7E'} : {backgroundColor:'#C6E0B4'}} onClick={() => onChangeService('banner')}>Баннер</button>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h2>Price:{price}$</h2>\r\n          <Button inverted color='brown' onClick={() => onSubmit(result)}>\r\n            Подтвердить\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n      <Liqpay price={price}/>\r\n    </div>\r\n  )\r\n}\r\n","import React,{useState} from 'react'\r\nimport { Container } from 'semantic-ui-react'\r\nimport config from '../../config/default.json'\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport { Button } from 'semantic-ui-react'\r\n\r\nexport default function AdvertItem({ ad }) {\r\n  const [imgId, setImgId] = useState('')\r\n  console.log(ad)\r\n\r\n  return (\r\n    <Container>\r\n      <div className='adsList__info'>\r\n        <div className=\"adsList__infoContainer\">\r\n          <div className=\"adsList__titleContainer\">\r\n            <h2>{ad.title}</h2>\r\n            <p>{ad.description}</p>\r\n          </div>\r\n          <div className=\"adsList__photoContainer\">\r\n            <h3>Фото:</h3>\r\n            <div className=\"adsList__sliderContainer\">\r\n              <Carousel >\r\n                {ad.img && ad.img.map(img => (\r\n                  <div onClick={() => setImgId(img)}>\r\n                    <img src={`${config.serverUrl}/api/images/${img}`} />\r\n                  </div>\r\n                ))}\r\n              </Carousel>\r\n              {\r\n                imgId &&\r\n                <div className=\"fixed-overlay\" onClick={() => setImgId('')}>\r\n                  <div className='modal'>\r\n                    <div className=\"modal_container\">\r\n                      <img className='adsList__popupImg' src={`${config.serverUrl}/api/images/${imgId}`} width='500' />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"adsList__infoContainer\">\r\n          <div>\r\n            <h2>Данные объявление</h2>\r\n            <p>{ad.city}</p>\r\n            <p>Тип{ad.type}</p>\r\n            <p>{ad.section}</p>\r\n            <p>{ad.subsection}</p>\r\n            <p>Цена: {ad.productPrice}</p>\r\n          </div>\r\n          <div>\r\n            <h3>Контакты:</h3>\r\n            <p>Имя: {ad.name}</p>\r\n            <p>Телефон: {ad.phone}</p>\r\n            <p><Button>Отправить сообщение</Button></p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n","import React,{ useEffect, useState } from 'react'\r\nimport AdvertItem from '../../components/AdvertItem/AdvertItem'\r\nimport { useParams } from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport config from '../../config/default.json'\r\n\r\nexport default function DetailsAdPage() {\r\n  const { adId } = useParams();\r\n  const [ ad, setAd ] = useState([])\r\n\r\n  useEffect(async () => {\r\n    await axios.get(`${config.serverUrl}/api/ads/${adId}`).then(res => setAd(res.data))\r\n    \r\n  }, [adId])\r\n\r\n  return (\r\n    <div>\r\n      <AdvertItem ad={ad}/>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Redirect, Route, Switch } from \"react-router-dom\"\r\nimport HomePage from './pages/HomePage/HomePage'\r\nimport AccountPage from './pages/AccountPage/AccountPage'\r\nimport AuthPage from './pages/AuthPage/AuthPage'\r\nimport RegPage from './pages/RegPage/RegPage'\r\nimport NewAdPage from './pages/NewAdPage/NewAdPage'\r\nimport DetailsAdPage from './pages/DetailsAdPage/DetailsAdPage'\r\n\r\nexport default function Routes() {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/home\" exact>\r\n        <HomePage />\r\n      </Route>\r\n      <Route path=\"/account\" exact>\r\n        <AccountPage />\r\n      </Route>\r\n      <Route path='/newAd'>\r\n        <NewAdPage/>\r\n      </Route>\r\n      <Route path='/detailsAd/:adId' component={DetailsAdPage}/>\r\n      <Route path='/auth' component={AuthPage} />\r\n      <Route path='/registration' component={RegPage} />\r\n      <Redirect to='/home' />\r\n    </Switch>\r\n  )\r\n}\r\n","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { fetchAds,fetchSharesAds,fetchSalesAds,fetchRecommendedAds,fetchHotsAds,fetchRunAds } from '../actions/adsAction';\r\n\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  pages: [],\r\n  sharesAds: [],\r\n  salesAds: [],\r\n  recommendedAds: [],\r\n  hotsAds: [],\r\n  runAds: [],\r\n  error: null\r\n};\r\n\r\nconst adsReducer = createReducer(initialState, {\r\n  [fetchAds.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchAds.fulfilled]: (state, action) => {\r\n    state.data = action.payload[0];\r\n    state.pages = action.payload[1];\r\n    state.loading = false;\r\n  },\r\n  [fetchAds.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload.error;\r\n  },\r\n  [fetchSharesAds.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchSharesAds.fulfilled]: (state, action) => {\r\n    state.sharesAds = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchSharesAds.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload.error;\r\n  },\r\n  [fetchSalesAds.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchSalesAds.fulfilled]: (state, action) => {\r\n    state.salesAds = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchSalesAds.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload.error;\r\n  },\r\n  [fetchRecommendedAds.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchRecommendedAds.fulfilled]: (state, action) => {\r\n    state.recommendedAds = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchRecommendedAds.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload.error;\r\n  },\r\n  [fetchHotsAds.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchHotsAds.fulfilled]: (state, action) => {\r\n    state.hotsAds = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchHotsAds.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload.error;\r\n  },\r\n  [fetchRunAds.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchRunAds.fulfilled]: (state, action) => {\r\n    state.runAds = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchRunAds.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload.error;\r\n  }\r\n});\r\n\r\n\r\nexport default adsReducer;","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { fetchUser } from '../actions/userAction';\r\n\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  error: null\r\n};\r\n\r\nconst userReducer = createReducer(initialState, {\r\n  [fetchUser.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchUser.fulfilled]: (state, action) => {\r\n    state.data = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchUser.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload.error;\r\n  }\r\n});\r\n\r\n\r\nexport default userReducer;","import { combineReducers } from '@reduxjs/toolkit'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport adsReducer from './reducers/adsReducer'\r\nimport userReducer from './reducers/userReducer'\r\n\r\nexport default combineReducers({\r\n  ads: adsReducer,\r\n  user: userReducer,\r\n  form: formReducer\r\n})","import './App.scss'\r\nimport { useAuth } from './hooks/useAuth'\r\nimport { AuthContext } from './context/AuthContext';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport Routes from './Routes'\r\nimport createStore from './redux/createStore'\r\nimport { Provider } from 'react-redux'\r\n\r\nconst store = createStore();\r\n\r\nfunction App() {\r\n  const { token, login, logout, userId, ready } = useAuth();\r\n  const isAuthenticated = !!token\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      <AuthContext.Provider  value={{ token, login, logout, userId, ready, isAuthenticated }}>\r\n        <Router>\r\n          <Routes />\r\n        </Router>\r\n      </AuthContext.Provider>\r\n    </Provider>\r\n\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport rootReducer from './rootReducer';\r\n\r\nexport default () => {\r\n  return configureStore({\r\n    reducer: rootReducer,\r\n    devTools: true,\r\n  })\r\n};","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}